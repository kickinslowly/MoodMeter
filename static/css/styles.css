:root {
  --bg: #0f0f12;
  --text: #e6e6ea;
  --muted: #a0a3ad;
  --axis: #cfd3dc;
  --cell-border: rgba(255,255,255,0.1);
  --hover-outline: rgba(255,255,255,0.6);
  --selected-outline: #ffffff;
  --shadow: 0 10px 25px rgba(0,0,0,0.35);

  /* Rank Colors - centralized for easy maintenance */
  --rank-noob: 154,160,166;
  --rank-beast: 255,107,0;
  --rank-nerd: 0,179,255;
  --rank-soldier: 34,197,94;
  --rank-genius: 168,85,247;
  --rank-legend: 245,158,11;
  --rank-godlike: 255,215,0;
  --rank-captain: 79,70,229;
  --rank-overlord: 236,72,153;
  --rank-supreme: 219,39,119;
  --rank-master: 239,68,68;
  --rank-freak: 163,230,53;
  --rank-sixseven: 107,114,128;
  --rank-alien: 0,255,195;
  --rank-mainchar: 255,110,199;
  --rank-gigachad: 139,92,246;
  --rank-npc: 20,184,166;
  --rank-thisisfine: 249,115,22;
  --rank-sigma: 148,163,184;
  --rank-touchgrass: 74,222,128;
  --rank-brainrot: 244,114,182;
  --rank-based: 234,88,12;
  --rank-ohno: 250,204,21;
  --rank-forbidden: 248,113,113;
  --rank-builtdifferent: 34,211,238;
  --rank-brainrotsupreme: 232,121,249;
  --rank-unit: 168,162,158;
  --rank-unfair: 56,189,248;
  --rank-juiced: 163,230,53;
  --rank-heknows: 192,132,252;
  --rank-uninstall: 251,146,60;
  --rank-toosmart: 34,211,238;
  --rank-business: 167,139,250;
  --rank-goat: 251,191,36;
  --rank-nothuman: 52,211,153;
  /* High-tier ranks (3500+) use gradients/animations - colors defined inline */
}

html, body {
  height: 100%;
}

body {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, "Apple Color Emoji", "Segoe UI Emoji";
  background: radial-gradient(1200px 800px at 50% -10%, #1b1c22 0%, #0f1014 60%, #0a0b0e 100%);
  color: var(--text);
}

.page { min-height: 100%; display: flex; flex-direction: column; }
.header { padding: 20px 24px 8px; text-align: center; position: relative; }
.title { margin: 0; font-size: clamp(20px, 3vw, 32px); letter-spacing: .4px; color: #f7f7fb; }

.main { flex: 1; display: grid; place-items: center; padding: 16px; }

.axes-layout {
  display: grid;
  grid-template-columns: auto minmax(240px, 78vw) auto;
  grid-template-rows: auto minmax(240px, 78vh) auto;
  gap: 12px 16px;
  align-items: center;
  justify-items: center;
  width: 100%;
  max-width: 1200px;
}

.y-axis-label {
  grid-column: 1;
  grid-row: 2;
  writing-mode: vertical-rl;
  transform: rotate(180deg);
  color: var(--axis);
  font-weight: 600;
  letter-spacing: .6px;
}

.y-axis-label.y-bottom {
  grid-column: 3;
  grid-row: 2;
  transform: none;
  writing-mode: vertical-rl;
}

.grid-wrapper {
  grid-column: 2;
  grid-row: 2;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-rows: repeat(10, 1fr);
  grid-template-columns: repeat(10, 1fr);
  gap: 6px;
  /* Use a custom property for padding so quadrant lines align on all sizes */
  --grid-pad: 12px;
  padding: var(--grid-pad);
  border-radius: 16px;
  background: rgba(255,255,255,0.05);
  box-shadow: var(--shadow);
  position: relative;
}

/* Quadrant separator lines */
.grid::before,
.grid::after {
  content: "";
  position: absolute;
  pointer-events: none;
  background: rgba(255,255,255,0.22); /* thin, mostly transparent */
  z-index: 1; /* above default cells, below hovered/selected cells */
}
/* Horizontal center line */
.grid::before {
  left: var(--grid-pad);
  right: var(--grid-pad);
  top: 50%;
  height: 1px;
  transform: translateY(-0.5px);
}
/* Vertical center line */
.grid::after {
  top: var(--grid-pad);
  bottom: var(--grid-pad);
  left: 50%;
  width: 1px;
  transform: translateX(-0.5px);
}

.row { display: contents; }

.cell {
  appearance: none;
  border: 1px solid var(--cell-border);
  background: #22242b;
  border-radius: 10px;
  color: #f8f8fb;
  font-size: clamp(10px, 1.3vw, 14px);
  font-weight: 600;
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 1.15;
  transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease, background 200ms ease, filter 200ms ease;
  position: relative;
  overflow: hidden;
}

.cell::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  box-shadow: inset 0 0 0 0px transparent;
  transition: box-shadow 120ms ease;
}

.cell:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
  border-color: var(--hover-outline);
  z-index: 2;
}

.cell:hover::after {
  box-shadow: inset 0 0 0 2px var(--hover-outline);
}

.cell.selected {
  border-color: var(--selected-outline);
  box-shadow: 0 0 0 2px var(--selected-outline), 0 8px 20px rgba(0,0,0,0.45);
  transform: translateY(-1px) scale(1.02);
  z-index: 3;
}

.cell-label { pointer-events: none; padding: 6px; }

.x-axis {
  margin-top: 10px;
  width: 100%;
  display: flex;
  justify-content: space-between;
  color: var(--axis);
  font-weight: 600;
  letter-spacing: .6px;
}

/* Accessibility focus */
.cell:focus-visible { outline: 3px solid #fff; outline-offset: 2px; }

/* Thin white outline for center words of each quadrant */
.grid .cell[data-cell-label="Angry" i],
.grid .cell[data-cell-label="Happy" i],
.grid .cell[data-cell-label="Calm" i],
.grid .cell[data-cell-label="Sad" i],
.grid .cell[data-label="Angry" i],
.grid .cell[data-label="Happy" i],
.grid .cell[data-label="Calm" i],
.grid .cell[data-label="Sad" i] {
  position: relative; /* ensure ::after positions correctly */
}

.grid .cell[data-cell-label="Angry" i]::after,
.grid .cell[data-cell-label="Happy" i]::after,
.grid .cell[data-cell-label="Calm" i]::after,
.grid .cell[data-cell-label="Sad" i]::after,
.grid .cell[data-label="Angry" i]::after,
.grid .cell[data-label="Happy" i]::after,
.grid .cell[data-label="Calm" i]::after,
.grid .cell[data-label="Sad" i]::after {
  box-shadow: inset 0 0 0 1.5px rgba(255,255,255,0.9);
}

/* Keep the white ring visible on hover alongside the hover outline */
.grid .cell[data-cell-label="Angry" i]:hover::after,
.grid .cell[data-cell-label="Happy" i]:hover::after,
.grid .cell[data-cell-label="Calm" i]:hover::after,
.grid .cell[data-cell-label="Sad" i]:hover::after,
.grid .cell[data-label="Angry" i]:hover::after,
.grid .cell[data-label="Happy" i]:hover::after,
.grid .cell[data-label="Calm" i]:hover::after,
.grid .cell[data-label="Sad" i]:hover::after {
  box-shadow: inset 0 0 0 2px var(--hover-outline), inset 0 0 0 1.5px rgba(255,255,255,0.9);
}

/* Small screens adjustments */
@media (max-width: 640px) {
  .grid { gap: 4px; --grid-pad: 8px; padding: var(--grid-pad); }
  .cell { border-radius: 8px; font-size: 10px; padding: 3px; }
}


/* Axis labels repositioning */
.y-axis-top-label {
  grid-column: 2;
  grid-row: 1;
  text-align: center;
  color: var(--axis);
  font-weight: 600;
  letter-spacing: .6px;
}
.y-axis-bottom-label {
  grid-column: 2;
  grid-row: 3;
  text-align: center;
  color: var(--axis);
  font-weight: 600;
  letter-spacing: .6px;
}
.x-axis-left-label {
  grid-column: 1;
  grid-row: 2;
  writing-mode: vertical-rl;
  transform: rotate(180deg);
  color: var(--axis);
  font-weight: 600;
  letter-spacing: .6px;
}
.x-axis-right-label {
  grid-column: 3;
  grid-row: 2;
  writing-mode: vertical-rl;
  color: var(--axis);
  font-weight: 600;
  letter-spacing: .6px;
}


/* Auth UI (upper-right) */
.auth-actions { position: absolute; right: 16px; top: 12px; display: flex; gap: 10px; align-items: center; }
.google-login-btn {
  background: #ffffff;
  color: #111217;
  border: 0;
  border-radius: 6px;
  padding: 6px 10px;
  font-weight: 700;
  text-decoration: none;
  box-shadow: var(--shadow);
}
.google-login-btn:hover { filter: brightness(0.95); }
.logout-btn {
  background: transparent;
  border: 1px solid var(--cell-border);
  color: var(--text);
  border-radius: 6px;
  padding: 6px 10px;
  cursor: pointer;
}
.logout-btn:hover { border-color: var(--hover-outline); }
.avatar { width: 28px; height: 28px; border-radius: 50%; object-fit: cover; box-shadow: 0 0 0 1px rgba(255,255,255,0.2); }
.user-name { font-size: 0.9rem; color: var(--axis); }

/* Last entry banner (legacy in-main) */
.last-entry-banner {
  margin-top: 32px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,0.14);
  color: var(--axis);
  font-size: 0.95rem;
}

/* Footer styles */
.footer {
  padding: 0;
  color: var(--axis);
  border-top: none;
  background: transparent;
  text-align: center;
}
.footer-last-entry { font-size: 0.95rem; }

/* Mood Meter page-specific footer padding for breathing room */
.mood-meter-page .footer {
  padding: 12px 24px 20px;
}

/* Cozy toast styles */
.mood-toast-root {
  position: fixed;
  left: 50%;
  bottom: 24px;
  transform: translateX(-50%);
  display: grid;
  gap: 10px;
  z-index: 10000;
  pointer-events: none; /* don't block page interactions */
}

.mood-toast {
  --accent: #f7a76c; /* will be overridden dynamically per mood cell */
  pointer-events: auto;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 14px;
  color: #fff;
  background:
    radial-gradient(1000px 400px at 50% -40%, rgba(255,255,255,0.06), rgba(255,255,255,0.02)),
    linear-gradient(180deg, rgba(255, 240, 228, 0.16), rgba(255, 222, 196, 0.10));
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow:
    0 10px 35px rgba(0,0,0,0.45),
    0 6px 18px rgba(0,0,0,0.35),
    0 0 0 1px rgba(255,255,255,0.03) inset,
    0 10px 30px color-mix(in srgb, var(--accent) 30%, transparent);
  position: relative;
  overflow: hidden;
}

/* Subtle warm sheen */
.mood-toast::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(120px 50px at 20% -10%, color-mix(in srgb, var(--accent) 22%, transparent), transparent 60%);
  opacity: 0.5;
  pointer-events: none;
}

.mood-toast__icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: inline-grid;
  place-items: center;
  color: #fff;
  background: radial-gradient(60% 60% at 30% 30%, #ffffffaa, #ffffff22),
              color-mix(in srgb, var(--accent) 70%, #ffffff00);
  box-shadow:
    0 4px 14px color-mix(in srgb, var(--accent) 40%, transparent),
    0 0 0 1px rgba(255,255,255,0.2) inset;
}

.mood-toast__text { display: grid; line-height: 1.15; }
.mood-toast__title { font-weight: 800; letter-spacing: 0.2px; }
.mood-toast__sub { font-size: 0.85rem; opacity: 0.85; }


/* Near-full-screen celebratory overlay */
.mood-overlay-root {
  position: fixed;
  inset: 0;
  z-index: 10010;
  pointer-events: none; /* let inner overlay handle interactions */
}

.mood-overlay {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: auto;
}

.mood-overlay__backdrop {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(1200px 800px at 50% -10%, rgba(17,18,23,0.75), rgba(8,9,12,0.86)),
    rgba(0,0,0,0.35);
  -webkit-backdrop-filter: blur(6px) saturate(1.05);
  backdrop-filter: blur(6px) saturate(1.05);
}

.mood-overlay__panel {
  --accent: #8ed1a5;
  width: min(92vw, 1100px);
  height: min(78vh, 740px);
  border-radius: 28px;
  position: relative;
  overflow: hidden;
  display: grid;
  place-items: center;
  padding: 24px;
  color: #fff;
  background:
    radial-gradient(1200px 900px at 50% -20%, rgba(255,255,255,0.10), rgba(255,255,255,0.02)),
    linear-gradient(165deg, color-mix(in srgb, var(--accent) 26%, #ffffff00), color-mix(in srgb, var(--accent) 8%, #0f1014) 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  box-shadow:
    0 30px 80px rgba(0,0,0,0.55),
    0 12px 30px rgba(0,0,0,0.45),
    0 0 0 1px rgba(255,255,255,0.06) inset,
    0 0 120px color-mix(in srgb, var(--accent) 30%, transparent) inset;
}

/* Soft inner glow element */
.mood-overlay__glow {
  position: absolute;
  inset: -20%;
  background: radial-gradient(60% 40% at 50% 20%, color-mix(in srgb, var(--accent) 45%, transparent), transparent 70%);
  opacity: 0.7;
  pointer-events: none;
}

.mood-overlay__icon {
  width: clamp(88px, 12vw, 140px);
  height: clamp(88px, 12vw, 140px);
  border-radius: 50%;
  display: grid;
  place-items: center;
  color: #fff;
  background:
    radial-gradient(60% 60% at 30% 30%, #ffffffcc, #ffffff33),
    color-mix(in srgb, var(--accent) 80%, #ffffff00);
  box-shadow:
    0 30px 70px color-mix(in srgb, var(--accent) 45%, transparent),
    0 6px 24px rgba(0,0,0,0.35),
    0 0 0 2px rgba(255,255,255,0.18) inset;
}

.mood-overlay__sub {
  margin-top: 16px;
  font-weight: 700;
  font-size: clamp(16px, 2.4vw, 26px);
  letter-spacing: 0.2px;
  opacity: 0.92;
  text-shadow: 0 2px 18px rgba(0,0,0,0.35);
}

/* Smaller screens: panel fills more of the screen */
@media (max-width: 640px) {
  .mood-overlay__panel { width: 96vw; height: 80vh; border-radius: 22px; }
}


/* Neon warning modal */
.neon-modal-root { position: fixed; inset: 0; z-index: 10020; pointer-events: none; }
.neon-modal { position: absolute; inset: 0; display: grid; place-items: center; pointer-events: auto; }
.neon-modal__backdrop {
  position: absolute; inset: 0;
  background: radial-gradient(1000px 700px at 50% -10%, rgba(10,12,16,0.85), rgba(6,7,10,0.92)), rgba(0,0,0,0.4);
  -webkit-backdrop-filter: blur(8px) saturate(1.1);
  backdrop-filter: blur(8px) saturate(1.1);
}
.neon-modal__panel {
  position: relative;
  width: min(92vw, 520px);
  border-radius: 20px;
  padding: 22px 18px;
  color: #e8f7ff;
  background:
    radial-gradient(1200px 800px at 50% -30%, rgba(255,255,255,0.08), rgba(255,255,255,0.02)),
    linear-gradient(180deg, rgba(30,32,40,0.9), rgba(18,20,26,0.96));
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow:
    0 24px 70px rgba(0,0,0,0.6),
    0 12px 30px rgba(0,0,0,0.5),
    0 0 0 1px rgba(255,255,255,0.06) inset,
    0 0 40px rgba(0,234,255,0.25),
    0 0 60px rgba(255,0,255,0.2);
  overflow: hidden;
}
/* Animated neon border ring */
.neon-modal__panel::after {
  content: ""; position: absolute; inset: -2px; border-radius: inherit; padding: 2px;
  background: conic-gradient(from var(--a, 0deg), #00eaff, #ff00ff, #8aff00, #00eaff);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  animation: neon-spin 8s linear infinite;
  opacity: 0.55; pointer-events: none;
}
@keyframes neon-spin { to { --a: 360deg; } }

.neon-modal__glow { position: absolute; inset: -25%; pointer-events: none; background: radial-gradient(60% 40% at 30% 20%, rgba(0,234,255,0.20), transparent 70%), radial-gradient(60% 40% at 70% 30%, rgba(255,0,255,0.18), transparent 70%); filter: blur(12px); opacity: 0.9; }
.neon-modal__icon { width: 58px; height: 58px; margin: 2px auto 10px; border-radius: 50%; display: grid; place-items: center; color: #00eaff;
  background: radial-gradient(60% 60% at 40% 30%, #ffffffcc, #ffffff22), linear-gradient(180deg, rgba(0,234,255,0.35), rgba(255,0,255,0.18));
  box-shadow: 0 10px 30px rgba(0,234,255,0.28), 0 0 0 2px rgba(255,255,255,0.12) inset, 0 0 50px rgba(255,0,255,0.18);
}
.neon-modal__title { text-align: center; font-weight: 800; letter-spacing: .3px; font-size: 1.1rem; margin-top: 6px; color: #eaffff; text-shadow: 0 0 16px rgba(0,234,255,0.35), 0 0 22px rgba(255,0,255,0.22); }
.neon-modal__message { margin: 8px 8px 14px; text-align: center; color: #cfe7ff; opacity: 0.95; }
.neon-modal__actions { display: flex; justify-content: center; gap: 10px; }

.neon-btn { appearance: none; border: 1px solid rgba(255,255,255,0.2); color: #e8ffff; background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(255,255,255,0.04)); padding: 8px 14px; border-radius: 12px; font-weight: 800; letter-spacing: .2px; cursor: pointer; box-shadow: 0 0 0 1px rgba(255,255,255,0.05) inset, 0 10px 20px rgba(0,0,0,0.4), 0 0 24px rgba(0,234,255,0.18), 0 0 30px rgba(255,0,255,0.12); transition: transform .15s ease, box-shadow .15s ease, filter .15s ease; }
.neon-btn:hover { transform: translateY(-1px); box-shadow: 0 0 0 1px rgba(255,255,255,0.08) inset, 0 14px 28px rgba(0,0,0,0.5), 0 0 32px rgba(0,234,255,0.26), 0 0 38px rgba(255,0,255,0.2); }
.neon-btn:active { transform: translateY(0); filter: brightness(0.95); }

@media (max-width: 480px) {
  .neon-modal__panel { width: 92vw; border-radius: 16px; padding: 18px 14px; }
  .neon-modal__message { font-size: 0.95rem; }
}


/* New central axis components */
.axis-x {
  grid-column: 2;
  grid-row: 3;
  width: 100%;
  height: 56px;
  position: relative;
  color: var(--axis);
}
.axis-y {
  grid-column: 1;
  grid-row: 2;
  width: 72px;
  height: 100%;
  position: relative;
  color: var(--axis);
}
.axis-x-svg,
.axis-y-svg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}
.axis-label {
  position: absolute;
  font-weight: 900;
  letter-spacing: 0.8px;
  color: var(--axis);
  text-shadow: 0 1px 2px rgba(0,0,0,0.4);
  font-size: clamp(18px, 2.6vw, 30px);
  pointer-events: none;
}
.axis-label-x {
  left: 50%;
  top: calc(50% + 12px); /* place label below the arrow line (raised slightly to avoid footer collision) */
  transform: translateX(-50%);
}
.axis-label-y {
  left: auto;
  right: calc(50% + 12px); /* place label fully to the left (outside) of the vertical arrow line */
  top: 50%;
  transform: translateY(-50%) rotate(-90deg);
  transform-origin: center;
  white-space: nowrap;
}
@media (max-width: 640px) {
  .axis-x { height: 44px; }
  .axis-y { width: 56px; }
}

/* Mobile-responsive enhancements */

/* Global touch target sizing and form controls */
:root {
  --tap-min: 40px;
}

button, .btn, .google-login-btn, .logout-btn, input, select {
  min-height: 36px;
}

/* Header/auth area adjustments on small screens */
@media (max-width: 780px) {
  .header { padding: 14px 12px 6px; }
  .auth-actions { position: static; right: auto; top: auto; justify-content: center; flex-wrap: wrap; gap: 8px; margin-bottom: 6px; }
  .title { font-size: clamp(20px, 6vw, 28px); }
}

/* Axes layout sizing tweaks */
@media (max-width: 780px) {
  .axes-layout { grid-template-columns: auto minmax(220px, 94vw) auto; grid-template-rows: auto minmax(220px, 62vh) auto; gap: 8px 10px; }
}
@media (max-width: 560px) {
  .axes-layout { grid-template-columns: 1fr; grid-template-rows: auto auto auto; }
  /* Keep axes visible but tighter; if space constrained theyâ€™ll wrap above/below */
  .axis-y, .axis-x { margin: 0; }
}

/* Grid density on very small screens */
@media (max-width: 640px) {
  .grid { gap: 4px; --grid-pad: 8px; padding: var(--grid-pad); border-radius: 12px; }
  .cell { border-radius: 8px; font-size: 10px; padding: 3px; }
}

/* Student/Teacher dashboard header and actions */
@media (max-width: 900px) {
  .dash-container { padding: 12px; }
  .dash-header { flex-wrap: wrap; gap: 8px; }
  .dash-header h1 { flex: 1 1 100%; margin-bottom: 2px; text-align: left; }
  .header-actions { flex-wrap: wrap; justify-content: flex-start; }
}
@media (max-width: 580px) {
  .dash-container { padding: 10px; }
  .dash-header h1 { text-align: center; }
  .header-actions { width: 100%; justify-content: center; }
}

/* Filters grids collapse on small screens (override inline .filters rules) */
@media (max-width: 900px) {
  .dash-container .filters { grid-template-columns: repeat(2, minmax(140px, 1fr)); }
  .dash-container .filter-actions { grid-column: 1 / -1; }
}
@media (max-width: 580px) {
  .dash-container .filters { grid-template-columns: 1fr; }
}

/* Stats grids collapse */
@media (max-width: 900px) {
  .stats, .stats-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 580px) {
  .stats, .stats-grid { grid-template-columns: 1fr; }
}

/* Tab bar wrapping and spacing */
@media (max-width: 780px) {
  .tabbar { flex-wrap: wrap; gap: 6px; }
  .tab-btn { width: auto; }
}

/* Tables: ensure scroll on narrow screens */
.dataframe { width: 100%; border-collapse: collapse; }
@media (max-width: 680px) {
  .dataframe th, .dataframe td { white-space: nowrap; }
}

/* Toast width on phones */
@media (max-width: 520px) {
  .mood-toast-root { left: 50%; transform: translateX(-50%); }
  .mood-toast { width: calc(100vw - 24px); }
}

/* Override inline grid for group member add form on small screens */
@media (max-width: 580px) {
  form#addMemberForm2 { grid-template-columns: 1fr !important; }
  form#addMemberForm2 > div { grid-template-columns: 1fr !important; }
}

/* Average anchor glow overlay */
.grid .avg-glow {
  position: absolute;
  inset: 0;
  border-radius: 16px;
  pointer-events: none;
  z-index: 1; /* above cells, below hover states which raise z-index */
  mix-blend-mode: screen; /* subtle lightening glow on dark theme */
}

/* Legend for average anchor */
.avg-legend {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 10px;
  font-size: 13px;
  color: #ccd1db;
}
.avg-legend .dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  box-shadow: 0 0 10px rgba(255,255,255,0.18);
}
.avg-legend .label { opacity: .95; font-size: 75%; }


/* Quadrant color dots for average legend */
.avg-legend .dot.q-red { background: #E03838; }
.avg-legend .dot.q-yellow { background: #F6DF5F; }
.avg-legend .dot.q-blue { background: #4670D6; }
.avg-legend .dot.q-green { background: #4AC981; }


/* Axis transparency overrides: ensure no card or visible background around axes */
.axis-x, .axis-y, .axis-x-svg, .axis-y-svg, .axis-label {
  background: transparent !important;
  box-shadow: none !important;
  border: 0 !important;
}

.mobile-mood { display: none; width: 100%; max-width: 520px; margin: 0 auto; }
.mobile-mood-title { text-align: center; margin: 8px 0 12px; font-size: 20px; color: var(--axis); }
.mobile-quad-grid { display: grid; grid-template-columns: repeat(2, 1fr); grid-auto-rows: minmax(120px, 32vh); gap: 12px; }
.mobile-quad { appearance: none; border: 1px solid var(--cell-border); border-radius: 14px; color: #0f1014; font-weight: 800; font-size: 22px; display: grid; place-items: center; box-shadow: var(--shadow); }
.mobile-quad span { filter: drop-shadow(0 2px 4px rgba(0,0,0,0.25)); }
.mobile-quad.q-red { background: linear-gradient(160deg, rgb(224,56,56), rgba(0,0,0,0.1)); color: #fff; }
.mobile-quad.q-yellow { background: linear-gradient(160deg, rgb(246,223,95), rgba(0,0,0,0.1)); color: #0f1014; }
.mobile-quad.q-blue { background: linear-gradient(160deg, rgb(70,112,214), rgba(0,0,0,0.1)); color: #fff; }
.mobile-quad.q-green { background: linear-gradient(160deg, rgb(74,201,129), rgba(0,0,0,0.1)); color: #0f1014; }

.mobile-drilldown[hidden] { display: none !important; }
.mobile-drilldown { position: fixed; inset: 0; background: #0f1014; z-index: 9999; display: flex; flex-direction: column; padding: 12px; }
.mobile-drilldown-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
.back-btn { background: transparent; border: 1px solid var(--cell-border); color: var(--text); padding: 8px 12px; border-radius: 10px; }
.mobile-drilldown-title { font-weight: 800; font-size: 18px; color: var(--text); }
.mobile-drilldown-list { flex: 1; display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; overflow: auto; --grid-pad: 10px; padding: var(--grid-pad); border-radius: 16px; background: rgba(255,255,255,0.05); box-shadow: var(--shadow); }
.mobile-mood-item { appearance: none; border: 1px solid var(--cell-border); background: #22242b; color: #f8f8fb; border-radius: 10px; padding: 8px; text-align: center; font-weight: 600; font-size: clamp(12px, 3.8vw, 16px); display: flex; align-items: center; justify-content: center; line-height: 1.15; transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease, background 200ms ease, filter 200ms ease; position: relative; overflow: hidden; }

@media (max-width: 768px) {
  .mood-meter-page .axes-layout { display: none; }
  .mood-meter-page .footer { padding: 12px; }
  .mobile-mood { display: block; }
}

/* === Make67 page styles (scoped) === */
.make67-page .make67-container { display: grid; gap: 16px; place-items: center; }
.make67-page .subtitle { color: var(--axis); font-weight: 600; letter-spacing: .3px; }
.make67-page .cards-grid { display: grid; grid-template-columns: repeat(2, minmax(168px, 30.8vw)); grid-auto-rows: minmax(168px, 30.8vw); gap: 20px; --pad: 14px; padding: var(--pad); border-radius: 16px; background: rgba(51,51,51,1); box-shadow: var(--shadow); position: relative; overflow: hidden; z-index: 10; }
.make67-page .card { appearance:none; border:1px solid var(--cell-border); background:#22242b; color:#fff; border-radius:18px; font-size: clamp(39px, 8.4vw, 64px); font-weight: 900; display:grid; place-items:center; position:relative; overflow:hidden; box-shadow: var(--shadow); transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease; }
.make67-page .card:hover { transform: translateY(-2px); box-shadow: 0 12px 28px rgba(0,0,0,0.45); border-color: var(--hover-outline); }
.make67-page .card.selected { box-shadow: 0 0 0 2px var(--selected-outline), 0 10px 24px rgba(0,0,0,0.5); transform: translateY(-2px) scale(1.02); z-index: 2; }
.make67-page .card.removed { visibility: hidden; }
.make67-page .card span { filter: drop-shadow(0 3px 6px rgba(0,0,0,0.35)); }

.make67-page .ops { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
.make67-page .op-btn { min-width: 64px; min-height: 64px; border-radius: 16px; border:1px solid #3a3f47; background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); color:#eaf3ff; font-size: 28px; font-weight: 900; cursor:pointer; box-shadow: 0 10px 25px rgba(0,0,0,0.4); transition: transform .12s ease, filter .12s ease, box-shadow .12s ease, border-color .15s ease; }
.make67-page .op-btn:hover { transform: translateY(-1px); filter: brightness(1.05); box-shadow: 0 14px 32px rgba(0,0,0,0.5); }
.make67-page .op-btn:active { transform: translateY(0); filter: brightness(0.95); }
.make67-page .op-btn.active { border-color: #9fe3b5; box-shadow: 0 0 0 2px rgba(159,227,181,0.45) inset, 0 0 24px rgba(159,227,181,0.35); }
.make67-page .op-btn.ghost { background: transparent; color: var(--axis); }

.make67-page .score-box { display:grid; place-items:center; gap:6px; padding: 14px 20px; border:1px solid rgba(255,255,255,0.14); border-radius: 14px; background: rgba(255,255,255,0.04); box-shadow: var(--shadow); }
.make67-page .score-label { font-size: 17px; color: var(--axis); font-weight: 700; }
.make67-page .score-value { font-size: 45px; font-weight: 900; }

.make67-page .note { min-height: 22px; color: #ccd1db; opacity: .9; font-size: 14px; text-align:center; }

/* Desktop-fit overrides for Make67 to avoid page scroll */
@media (min-width: 901px) {
  .make67-page .header { padding: 12px 16px 6px; }
  /* Allow main content to grow/scroll so Shop appears below Inventory and does not overlap footer */
  .make67-page .main { padding: 10px 14px; place-items: center; /* removed max-height & overflow hidden */ }
  .make67-page .make67-layout { width: 100vw; max-width: 100vw; gap: 24px; grid-template-columns: minmax(280px, 360px) 1fr minmax(280px, 360px); align-items: start; }
    .make67-page .m67-game { grid-column: 2; }
    .make67-page .m67-leaderboard { grid-column: 1; align-self: start; }
    .make67-page .m67-chat { grid-column: 3; align-self: start; }
  .make67-page .m67-leaderboard { max-height: calc(100vh - 120px); overflow: auto; }
  .make67-page .make67-container { --board: min(78vh, calc(100vw - 420px)); gap: 12px; place-items: center; }
    .make67-page .m67-game { display: grid; place-items: center; justify-self: center; }
  .make67-page .cards-grid { grid-template-columns: repeat(2, minmax(180px, min(24vw, 30vh))); grid-auto-rows: minmax(180px, min(24vw, 30vh)); gap: 16px; }
  .make67-page .card { font-size: clamp(36px, 6.8vh, 64px); border-radius: 16px; }
  .make67-page .ops { gap: 10px; }
  .make67-page .op-btn { min-width: clamp(44px, 6vh, 56px); min-height: clamp(44px, 6vh, 56px); font-size: clamp(18px, 3.2vh, 22px); border-radius: 14px; }
  .make67-page .score-box { padding: 14px 20px; }
  .make67-page .score-value { font-size: clamp(25px, 4.5vh, 36px); }
  .make67-page .note { font-size: 12px; min-height: 18px; }
  /* Small, lowâ€‘priority back link in top-left */
  .make67-page .back-link { position: absolute; left: 16px; top: 12px; font-size: 12px; color: var(--axis); opacity: .85; background: transparent; border: 1px solid transparent; padding: 4px 6px; border-radius: 8px; text-decoration: none; }
  .make67-page .back-link:hover { text-decoration: underline; opacity: 1; }
}

/* Height-aware fit rules to ensure operations stay visible without fullscreen */
@media (min-width: 901px) and (max-height: 900px) {
  .make67-page .game-board-wrapper { padding: clamp(12px, 3.2vh, 28px); }
  .make67-page .cards-grid { grid-template-columns: repeat(2, minmax(160px, min(22vw, 28vh))); grid-auto-rows: minmax(160px, min(22vw, 28vh)); gap: 14px; }
  .make67-page .op-btn { min-width: clamp(40px, 5.2vh, 52px); min-height: clamp(40px, 5.2vh, 52px); font-size: clamp(16px, 2.8vh, 22px); }
}

@media (min-width: 901px) and (max-height: 740px) {
  .make67-page .game-board-wrapper { padding: clamp(10px, 2.6vh, 22px); }
  .make67-page .cards-grid { grid-template-columns: repeat(2, minmax(140px, min(20vw, 24vh))); grid-auto-rows: minmax(140px, min(20vw, 24vh)); gap: 12px; }
  .make67-page .op-btn { min-width: clamp(38px, 4.8vh, 48px); min-height: clamp(38px, 4.8vh, 48px); font-size: clamp(15px, 2.5vh, 20px); }
}

/* Merge fly animation */
.ghost-card { z-index: 10000; pointer-events:none; }
@keyframes fly { to { transform: translate(var(--dx,0), var(--dy,0)) scale(0.7) rotate(6deg); opacity: 0; } }
.fly-merge { animation: fly 480ms cubic-bezier(.2,.7,.2,1); }

/* Pop on merge and success */
@keyframes pop { 0%{ transform: scale(1); } 50%{ transform: scale(1.08);} 100%{ transform: scale(1);} }
.merge-pop { animation: pop 320ms ease; }
@keyframes winpop { 0%{ transform: scale(1) rotate(0); } 40%{ transform: scale(1.12) rotate(3deg);} 100%{ transform: scale(1) rotate(0);} }
.win-pop { animation: winpop 900ms ease; }

/* Deny and shake */
@keyframes shake { 10%, 90% { transform: translateX(-2px);} 20%, 80% { transform: translateX(4px);} 30%, 50%, 70% { transform: translateX(-6px);} 40%, 60% { transform: translateX(6px);} }
.deny { box-shadow: 0 0 0 2px rgba(255,85,85,0.6) inset !important; }
.shake { animation: shake 600ms ease both; }

/* Success overlay */
.m67-overlay-root { position: fixed; inset: 0; z-index: 10020; display: block; }
.m67-overlay-root[hidden] { display: none !important; }
.m67-overlay { position: absolute; inset: 0; display: grid; place-items: center; }
.m67-overlay__backdrop { position: absolute; inset:0; z-index: 0; pointer-events: none; background: radial-gradient(900px 600px at 50% -10%, rgba(17,18,23,0.8), rgba(8,9,12,0.9)), rgba(0,0,0,0.25); -webkit-backdrop-filter: blur(6px) saturate(1.05); backdrop-filter: blur(6px) saturate(1.05); }
.m67-overlay__panel { --accent:#9fe3b5; position: relative; z-index: 1; width: min(92vw, 540px); border-radius: 20px; padding: 20px; background: linear-gradient(165deg, color-mix(in srgb, var(--accent) 22%, #ffffff00), #11131a), linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.14); box-shadow: 0 24px 70px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.05) inset; display:grid; place-items:center; color:#fff; text-align:center; box-sizing: border-box; }

/* Lock body scroll when a modal is open to prevent page scrollbars flicker */
body.m67-modal-open { overflow: hidden; }
.m67-overlay__glow { position:absolute; inset:-20%; z-index: -1; background: radial-gradient(40% 30% at 50% 25%, color-mix(in srgb, var(--accent) 28%, transparent), transparent 70%); pointer-events:none; }
.m67-overlay__icon { width:78px; height:78px; display:grid; place-items:center; font-size:48px; border-radius:50%; box-shadow: 0 10px 30px rgba(0,0,0,0.5), 0 0 0 2px rgba(255,255,255,0.12) inset; background: radial-gradient(60% 60% at 40% 30%, #ffffffcc, #ffffff22), linear-gradient(180deg, rgba(159,227,181,0.35), rgba(159,227,181,0.18)); }
.m67-overlay__title { margin-top: 10px; font-weight: 900; letter-spacing: .3px; font-size: 22px; }

@media (max-width: 560px){
  .make67-page .cards-grid { grid-template-columns: repeat(2, minmax(110px, 42vw)); grid-auto-rows: minmax(110px, 42vw); }
  .make67-page .op-btn { min-width: 56px; min-height: 56px; font-size: 24px; }
}

/* Mobile drill-down items interaction (match main grid feel) */
.mobile-mood-item::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  box-shadow: inset 0 0 0 0px transparent;
  transition: box-shadow 120ms ease;
}
.mobile-mood-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
  border-color: var(--hover-outline);
  z-index: 2;
}
.mobile-mood-item:hover::after {
  box-shadow: inset 0 0 0 2px var(--hover-outline);
}
.mobile-mood-item:focus-visible { outline: 3px solid #fff; outline-offset: 2px; }


/* Session UI (top-left) */
.session-actions { position: absolute; left: 16px; top: 12px; display: flex; align-items: center; gap: 8px; }
/* Make67 launcher: square on desktop, matches Session/Dashboard buttons on mobile */
.make67-btn {
  --gold: #FFD700; /* subtle golden accent */
  display: grid;
  place-items: center;
  width: auto;
  height: auto;
  padding: 8px 12px; /* fit to text */
  background: #ffffff;
  color: #111217;
  text-decoration: none;
  font-weight: 800;
  border-radius: 8px;
  border: 0;
  line-height: 1;
  letter-spacing: 0.2px;
  will-change: transform, box-shadow;
  transform-origin: center;
  /* thin golden outline + very soft glow (with fallback) */
  /* Fallback for browsers without color-mix() */
  box-shadow:
    var(--shadow),
    0 0 0 1px rgba(255,215,0,0.40),
    0 0 10px rgba(255,215,0,0.18);
  /* Preferred with color-mix() */
  box-shadow:
    var(--shadow),
    0 0 0 1px color-mix(in srgb, var(--gold), transparent 40%),
    0 0 10px color-mix(in srgb, var(--gold), transparent 82%);
  /* slightly stronger, quicker pulse so it's easier to notice */
  animation: pulse-gold 1.9s ease-in-out infinite;
}
.make67-btn:hover { filter: brightness(0.95); }
.session-btn { background: #ffffff; color: #111217; border: 0; border-radius: 6px; padding: 6px 10px; font-weight: 700; text-decoration: none; box-shadow: var(--shadow); cursor: pointer; }
.session-btn:hover { filter: brightness(0.95); }
.session-btn.active { background: #d1f7e1; box-shadow: 0 0 0 2px rgba(74,201,129,0.45) inset, 0 0 18px rgba(74,201,129,0.6); }
.session-status { font-size: 12px; color: var(--axis); opacity: .85; }

/* Mobile: make it look like the Session/Dashboard buttons (not square) */
@media (max-width: 600px) {
  .make67-btn { width: auto; height: auto; padding: 6px 10px; border-radius: 6px; font-weight: 700; letter-spacing: 0; }
}

/* Session heat glow and counts */
.grid .cell .count-badge { position: absolute; right: 6px; top: 6px; font-size: 12px; font-weight: 800; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.8); pointer-events: none; }
.grid .cell.session-glow::before { content: ""; position: absolute; inset: -6px; border-radius: inherit; pointer-events: none; box-shadow: 0 0 calc(28px * var(--session-glow, 0)) rgba(255,255,255,0.35), 0 0 calc(50px * var(--session-glow, 0)) rgba(255,255,255,0.25) inset; transition: box-shadow 180ms ease; }


/* Session popover menu */
.session-menu { position: fixed; z-index: 10000; background: #1f2227; color: #e8eaef; border: 1px solid #3a3f47; border-radius: 10px; box-shadow: 0 6px 22px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.06); padding: 10px; width: min(320px, calc(100vw - 24px)); }
.session-menu h4 { margin: 0 0 8px; font-size: 14px; font-weight: 800; }
.session-menu .row { display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center; }
.session-menu input { width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #3a3f47; background: #121418; color: #e8eaef; }
.session-menu .actions { display: flex; gap: 8px; flex-wrap: wrap; }
.session-menu button { background: #2f3540; color: #e8eaef; border: 1px solid #3a3f47; padding: 8px 12px; border-radius: 8px; cursor: pointer; }
.session-menu button:hover { filter: brightness(1.05); }
.session-menu .note { font-size: 12px; opacity: .85; margin-top: 6px; }


/* === Make67 layout & leaderboard === */
.make67-page .make67-layout { display: grid; gap: 24px; width: 100vw; max-width: 100vw; align-items: start; }
.make67-page .m67-game { display: block; }
.make67-page .m67-leaderboard { border:1px solid rgba(255,255,255,0.14); border-radius: 14px; background: rgba(255,255,255,0.04); box-shadow: var(--shadow); padding: 12px; }
.make67-page .m67-chat { border:1px solid rgba(255,255,255,0.14); border-radius: 14px; background: rgba(255,255,255,0.04); box-shadow: var(--shadow); padding: 12px; display: flex; flex-direction: column; gap: 8px; }
.make67-page .m67-chat__title { margin: 0 0 4px; font-size: 14px; font-weight: 800; color: var(--axis); letter-spacing: .3px; }
.make67-page .m67-chat__log { min-height: 140px; max-height: calc(100vh - 160px); overflow: auto; border: 1px solid var(--cell-border); border-radius: 10px; padding: 8px; background: #1c1f26; }
.make67-page .m67-chat__form { display: flex; gap: 8px; align-items: center; }
.make67-page .m67-chat__input { flex: 1; min-width: 0; padding: 10px 12px; border-radius: 10px; border:1px solid #3a3f47; background:#121418; color:#e8ecf5; }
.make67-page .m67-chat-row { margin: 4px 0; line-height: 1.25; word-break: break-word; }
.make67-page .m67-chat-user { font-weight: 800; color: #e8ecf5; opacity: .95; }
.make67-page .m67-chat-text { color: #cfd3dc; }
.make67-page .m67-lb-title { margin: 4px 6px 10px; font-size: 14px; font-weight: 800; color: var(--axis); letter-spacing: .3px; }
.make67-page .m67-lb-list { list-style: none; margin: 0; padding: 0; display: grid; gap: 6px; }
.make67-page .m67-lb-item { display: grid; grid-template-columns: 24px 1fr auto; align-items: center; gap: 8px; padding: 8px 10px; border-radius: 10px; border:1px solid var(--cell-border); background: #1d2026; color: #e8ecf5; position: relative; overflow: hidden; }
.make67-page .m67-lb-item .rank { font-weight: 900; opacity: .8; }
.make67-page .m67-lb-item .name { font-weight: 700; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.make67-page .m67-lb-item .total { font-weight: 900; }
.make67-page .m67-lb-empty { padding: 8px 10px; opacity: .8; color: var(--axis); }
.make67-page .score-row { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; margin-bottom: 12px; }

@media (max-width: 900px) {
  .make67-page .make67-layout { display: flex; flex-direction: column; max-width: 640px; }
  .make67-page .m67-game { order: 1; }
  .make67-page .m67-leaderboard { order: 2; margin-top: 10px; }
  .make67-page .m67-chat { order: 3; margin-top: 10px; }
}


/* Subtle golden pulse for Make67 button */
@keyframes pulse-gold {
  0%, 100% {
    transform: scale(1);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(255, 215, 0, 0.45),
      0 0 12px rgba(255, 215, 0, 0.22);
  }
  50% {
    transform: scale(1.03);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(255, 215, 0, 0.70),
      0 0 20px rgba(255, 215, 0, 0.32);
  }
}

.make67-btn:focus-visible {
  outline: 2px solid rgba(255, 215, 0, 0.8);
  outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
  .make67-btn { animation: none; }
}

/* Make67 leaderboard: highlight #1 with golden star and glow */
.make67-page .m67-lb-item.top1 {
  position: relative;
  border-color: rgba(255, 215, 0, 0.55);
  background:
    radial-gradient(120px 48px at 20% 50%, rgba(255, 215, 0, 0.07), transparent 60%),
    #1d2026;
  box-shadow:
    var(--shadow),
    0 0 0 1px rgba(255, 215, 0, 0.50),
    0 0 16px rgba(255, 215, 0, 0.28);
  animation: top1-glow 2s ease-in-out infinite;
}

.make67-page .m67-lb-item.top1 .rank { color: #FFD700; text-shadow: 0 0 8px rgba(255,215,0,0.55); }

/* Rank badges & regal colorways */
.make67-page .m67-lb-item .rank-icon { margin-right: 6px; filter: drop-shadow(0 1px 1px rgba(0,0,0,0.45)); }
.make67-page .m67-lb-item .rank-title { opacity: .95; font-weight: 800; }

/* Effect badges next to names */
.make67-page .m67-lb-item .mud-ind { filter: drop-shadow(0 1px 1px rgba(0,0,0,.45)); font-size: 14px; }
.make67-page .m67-lb-item .boost-ind { filter: drop-shadow(0 1px 2px rgba(0,0,0,.55)); color: #8be9ff; text-shadow: 0 0 8px rgba(139,233,255,0.55); font-size: 14px; }

/* Boosted electric pulse */
@keyframes boost-pulse {
  0% { box-shadow: var(--shadow), 0 0 0 1px rgba(0,200,255,0.45), 0 0 10px rgba(0,200,255,0.25); }
  50% { box-shadow: var(--shadow), 0 0 0 1px rgba(0,255,255,0.7), 0 0 20px rgba(0,255,255,0.40), 0 0 36px rgba(0,255,255,0.25); }
  100% { box-shadow: var(--shadow), 0 0 0 1px rgba(0,200,255,0.45), 0 0 10px rgba(0,200,255,0.25); }
}

@keyframes bolt-spin {
  0% { transform: rotate(0deg); opacity: .45; }
  50% { opacity: .75; }
  100% { transform: rotate(360deg); opacity: .45; }
}

.make67-page .m67-lb-item.boosted {
  border-color: rgba(0, 220, 255, 0.55);
  background:
    radial-gradient(160px 72px at 80% -10%, rgba(0, 200, 255, 0.10), transparent 60%),
    #1d2026;
  animation: boost-pulse 1.3s ease-in-out infinite;
}
.make67-page .m67-lb-item.boosted::before {
  content: "";
  position: absolute; inset: -30% -10%;
  background: conic-gradient(from 0deg, rgba(0,255,255,0.0) 0 15%, rgba(0,255,255,0.25) 15% 18%, rgba(0,255,255,0.0) 18% 35%, rgba(0,255,255,0.35) 35% 38%, rgba(0,255,255,0.0) 38% 55%, rgba(0,255,255,0.25) 55% 58%, rgba(0,255,255,0.0) 58% 75%, rgba(0,255,255,0.32) 75% 78%, rgba(0,255,255,0.0) 78% 100%);
  filter: blur(6px) drop-shadow(0 0 10px rgba(0,255,255,0.35));
  animation: bolt-spin 3s linear infinite;
  pointer-events: none;
}

/* Divine Shield: persistent protective glow */
@keyframes shield-glow {
  0% { box-shadow: var(--shadow), 0 0 0 1px rgba(255, 215, 0, 0.45), 0 0 12px rgba(255, 215, 0, 0.25), inset 0 0 22px rgba(255,215,0,0.18); }
  50% { box-shadow: var(--shadow), 0 0 0 1px rgba(255, 215, 0, 0.65), 0 0 22px rgba(255, 215, 0, 0.35), inset 0 0 32px rgba(255,215,0,0.24); }
  100% { box-shadow: var(--shadow), 0 0 0 1px rgba(255, 215, 0, 0.45), 0 0 12px rgba(255, 215, 0, 0.25), inset 0 0 22px rgba(255,215,0,0.18); }
}
.make67-page .m67-lb-item.shielded {
  border-color: rgba(255, 215, 0, 0.55);
  background:
    radial-gradient(180px 80px at 50% -20%, rgba(255, 215, 0, 0.10), transparent 60%),
    #1d2026;
  animation: shield-glow 2.2s ease-in-out infinite;
}

/* Divine Shield activation: brief golden flash visible to all online users */
@keyframes shield-flash {
  0% { opacity: 0; }
  10% { opacity: 1; }
  100% { opacity: 0; }
}
.make67-page .m67-lb-item.flash-shield::after {
  content: "";
  position: absolute; inset: 0;
  pointer-events: none;
  background: radial-gradient(220px 120px at 50% -10%, rgba(255, 240, 180, 0.55), transparent 70%);
  filter: blur(1px);
  animation: shield-flash 900ms ease-out forwards;
}

/* Mudded splatter */
@keyframes mud-drip {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(1px); }
}
.make67-page .m67-lb-item.mudded {
  border-color: rgba(150, 95, 45, 0.6);
  background:
    radial-gradient(120px 48px at -10% -20%, rgba(120, 70, 30, 0.10), transparent 60%),
    #1d2026;
}
.make67-page .m67-lb-item.mudded::after {
  content: "";
  position: absolute; inset: -8px; pointer-events: none;
  background:
    radial-gradient(22px 18px at 12% 28%, rgba(95,60,30,0.65), rgba(95,60,30,0.15) 60%, transparent 70%),
    radial-gradient(16px 12px at 28% 62%, rgba(95,60,30,0.55), rgba(95,60,30,0.12) 60%, transparent 70%),
    radial-gradient(18px 14px at 78% 34%, rgba(95,60,30,0.60), rgba(95,60,30,0.15) 60%, transparent 70%),
    radial-gradient(26px 22px at 86% 72%, rgba(95,60,30,0.50), rgba(95,60,30,0.10) 60%, transparent 70%);
  filter: blur(0.5px) drop-shadow(0 2px 2px rgba(0,0,0,0.35));
  animation: mud-drip 1.6s ease-in-out infinite;
}

/* Mud targeting UX */
body.m67-mud-mode { cursor: none; }
.m67-mud-overlay {
  position: fixed; inset: 0; display: grid; place-items: start center; padding-top: 14vh;
  font-size: 24px; font-weight: 900; letter-spacing: 0.5px;
  color: #ffe6c7; text-shadow: 0 2px 8px rgba(0,0,0,0.55), 0 0 18px rgba(255,180,70,0.35);
  pointer-events: none; z-index: 20000;
}
.m67-mud-cursor {
  position: fixed; left: 0; top: 0; width: 28px; height: 28px; margin-left: -14px; margin-top: -14px;
  border-radius: 50%;
  background:
    radial-gradient(18px 12px at 70% 30%, rgba(255,255,255,0.25), transparent 60%),
    #5f3c1e;
  box-shadow: 0 4px 12px rgba(0,0,0,0.35), 0 0 0 1px rgba(255,255,255,0.08) inset;
  display: grid; place-items: center;
  z-index: 20010; pointer-events: none;
}
.m67-mud-cursor::after { content: 'ðŸ’©'; filter: drop-shadow(0 1px 1px rgba(0,0,0,.5)); font-size: 16px; }

.m67-mud-throw {
  position: fixed; left: 0; top: 0; width: 22px; height: 22px; margin-left: -11px; margin-top: -11px;
  border-radius: 50%; background: #5f3c1e; z-index: 20005; pointer-events: none;
  transform: translate(0,0);
  box-shadow: 0 3px 9px rgba(0,0,0,0.35), 0 0 0 1px rgba(255,255,255,0.08) inset;
}
@keyframes mud-throw-fly {
  0% { transform: translate(0,0) scale(1); filter: drop-shadow(0 3px 6px rgba(0,0,0,.3)); }
  85% { transform: translate(var(--tx), var(--ty)) scale(1.15); }
  100% { transform: translate(var(--tx), var(--ty)) scale(0.9); filter: drop-shadow(0 1px 2px rgba(0,0,0,.2)); }
}
.m67-mud-throw.go { animation: mud-throw-fly 420ms cubic-bezier(.2,.9,.1,1) forwards; }

/* =============================================================================
   RANK STYLING SYSTEM

   Rank colors are defined as CSS variables in :root (e.g., --rank-beast: 255,107,0)
   These variables store RGB values that can be used with rgba() for consistent styling.

   FUTURE OPTIMIZATION: Replace individual rank rules with this pattern:

   .make67-page .m67-lb-item[class*="rank-"] {
     --rc: var(--rank-noob);  // default
     border-color: rgba(var(--rc), 0.35);
   }
   .make67-page .m67-lb-item[class*="rank-"] .name {
     color: rgb(var(--rc));
     text-shadow: 0 0 10px rgba(var(--rc), 0.5);
   }
   .make67-page .m67-lb-item.rank-beast { --rc: var(--rank-beast); }
   .make67-page .m67-lb-item.rank-nerd { --rc: var(--rank-nerd); }
   // ... etc

   This would reduce ~200 lines of rank styling to ~60 lines.
   High-tier ranks (3500+) with animations would still need custom rules.
   ============================================================================= */

/* Default (noob) muted */
.make67-page .m67-lb-item.rank-noob .name { color: #9aa0a6; text-shadow: 0 0 6px rgba(154,160,166,0.25); }
.make67-page .m67-lb-item.rank-noob { border-color: rgba(154,160,166,0.25); }

/* Beast â€“ fiery orange */
.make67-page .m67-lb-item.rank-beast .name { color: #ff6b00; text-shadow: 0 0 8px rgba(255,107,0,0.45); }
.make67-page .m67-lb-item.rank-beast { border-color: rgba(255,107,0,0.35); }

/* Nerd â€“ electric azure */
.make67-page .m67-lb-item.rank-nerd .name { color: #00b3ff; text-shadow: 0 0 8px rgba(0,179,255,0.45); }
.make67-page .m67-lb-item.rank-nerd { border-color: rgba(0,179,255,0.35); }

/* Soldier â€“ emerald */
.make67-page .m67-lb-item.rank-soldier .name { color: #22c55e; text-shadow: 0 0 8px rgba(34,197,94,0.45); }
.make67-page .m67-lb-item.rank-soldier { border-color: rgba(34,197,94,0.35); }

/* Genius â€“ royal purple */
.make67-page .m67-lb-item.rank-genius .name { color: #a855f7; text-shadow: 0 0 10px rgba(168,85,247,0.50); }
.make67-page .m67-lb-item.rank-genius { border-color: rgba(168,85,247,0.38); }

/* Legend â€“ amber gold */
.make67-page .m67-lb-item.rank-legend .name { color: #f59e0b; text-shadow: 0 0 10px rgba(245,158,11,0.55); }
.make67-page .m67-lb-item.rank-legend { border-color: rgba(245,158,11,0.40); }

/* Godlike â€“ imperial gold */
.make67-page .m67-lb-item.rank-godlike .name { color: #ffd700; text-shadow: 0 0 12px rgba(255,215,0,0.65); }
.make67-page .m67-lb-item.rank-godlike { border-color: rgba(255,215,0,0.50); }

/* Captain â€“ indigo */
.make67-page .m67-lb-item.rank-captain .name { color: #4f46e5; text-shadow: 0 0 10px rgba(79,70,229,0.55); }
.make67-page .m67-lb-item.rank-captain { border-color: rgba(79,70,229,0.42); }

/* OVERLORD â€“ imperial fuchsia */
.make67-page .m67-lb-item.rank-overlord .name { color: #ec4899; text-shadow: 0 0 12px rgba(236,72,153,0.65); }
.make67-page .m67-lb-item.rank-overlord { border-color: rgba(236,72,153,0.48); }
.make67-page .m67-lb-item.rank-supreme .name { color: #db2777; text-shadow: 0 0 12px rgba(219,39,119,0.68); }
.make67-page .m67-lb-item.rank-supreme { border-color: rgba(219,39,119,0.55); }

/* MASTER â€“ crimson authority */
.make67-page .m67-lb-item.rank-master .name { color: #ef4444; text-shadow: 0 0 12px rgba(239,68,68,0.60); }
.make67-page .m67-lb-item.rank-master { border-color: rgba(239,68,68,0.45); }

/* FREAK of NATURE â€“ toxic lime */
.make67-page .m67-lb-item.rank-freak .name { color: #a3e635; text-shadow: 0 0 12px rgba(163,230,53,0.60); }
.make67-page .m67-lb-item.rank-freak { border-color: rgba(163,230,53,0.45); }

/* 67676767676767 â€“ slate glitch */
.make67-page .m67-lb-item.rank-sixseven .name { color: #6b7280; text-shadow: 0 0 10px rgba(107,114,128,0.45); }
.make67-page .m67-lb-item.rank-sixseven { border-color: rgba(107,114,128,0.40); }

/* ALIEN â€“ neon mint */
.make67-page .m67-lb-item.rank-alien .name { color: #00ffc3; text-shadow: 0 0 14px rgba(0,255,195,0.70); }
.make67-page .m67-lb-item.rank-alien { border-color: rgba(0,255,195,0.52); }

/* MAINCHAR (1400) â€“ hot pink */
.make67-page .m67-lb-item.rank-mainchar .name { color: #ff6ec7; text-shadow: 0 0 14px rgba(255,110,199,0.70); }
.make67-page .m67-lb-item.rank-mainchar { border-color: rgba(255,110,199,0.52); }

/* GIGACHAD (1500) â€“ vivid purple */
.make67-page .m67-lb-item.rank-gigachad .name { color: #8b5cf6; text-shadow: 0 0 14px rgba(139,92,246,0.72); }
.make67-page .m67-lb-item.rank-gigachad { border-color: rgba(139,92,246,0.55); }

/* NPC (1600) â€“ teal */
.make67-page .m67-lb-item.rank-npc .name { color: #14b8a6; text-shadow: 0 0 14px rgba(20,184,166,0.70); }
.make67-page .m67-lb-item.rank-npc { border-color: rgba(20,184,166,0.52); }

/* THISISFINE (1700) â€“ burning orange */
.make67-page .m67-lb-item.rank-thisisfine .name { color: #f97316; text-shadow: 0 0 14px rgba(249,115,22,0.72); }
.make67-page .m67-lb-item.rank-thisisfine { border-color: rgba(249,115,22,0.55); }

/* SIGMA (1800) â€“ cool slate */
.make67-page .m67-lb-item.rank-sigma .name { color: #94a3b8; text-shadow: 0 0 12px rgba(148,163,184,0.65); }
.make67-page .m67-lb-item.rank-sigma { border-color: rgba(148,163,184,0.48); }

/* TOUCHGRASS (1900) â€“ fresh green */
.make67-page .m67-lb-item.rank-touchgrass .name { color: #4ade80; text-shadow: 0 0 14px rgba(74,222,128,0.72); }
.make67-page .m67-lb-item.rank-touchgrass { border-color: rgba(74,222,128,0.55); }

/* BRAINROT (2000) â€“ neon pink */
.make67-page .m67-lb-item.rank-brainrot .name { color: #f472b6; text-shadow: 0 0 16px rgba(244,114,182,0.75); }
.make67-page .m67-lb-item.rank-brainrot { border-color: rgba(244,114,182,0.58); }

/* BASED (2100) â€“ brick orange */
.make67-page .m67-lb-item.rank-based .name { color: #ea580c; text-shadow: 0 0 14px rgba(234,88,12,0.72); }
.make67-page .m67-lb-item.rank-based { border-color: rgba(234,88,12,0.55); }

/* OHNO (2200) â€“ warning yellow */
.make67-page .m67-lb-item.rank-ohno .name { color: #facc15; text-shadow: 0 0 16px rgba(250,204,21,0.78); }
.make67-page .m67-lb-item.rank-ohno { border-color: rgba(250,204,21,0.60); }

/* FORBIDDEN (2300) â€“ danger red */
.make67-page .m67-lb-item.rank-forbidden .name { color: #f87171; text-shadow: 0 0 16px rgba(248,113,113,0.75); }
.make67-page .m67-lb-item.rank-forbidden { border-color: rgba(248,113,113,0.58); }

/* BUILTDIFFERENT (2400) â€“ electric cyan */
.make67-page .m67-lb-item.rank-builtdifferent .name { color: #22d3ee; text-shadow: 0 0 16px rgba(34,211,238,0.78); }
.make67-page .m67-lb-item.rank-builtdifferent { border-color: rgba(34,211,238,0.60); }

/* BRAINROTSUPREME (2500) â€“ fuchsia */
.make67-page .m67-lb-item.rank-brainrotsupreme .name { color: #e879f9; text-shadow: 0 0 18px rgba(232,121,249,0.80); }
.make67-page .m67-lb-item.rank-brainrotsupreme { border-color: rgba(232,121,249,0.62); }

/* UNIT (2600) â€“ stone gray with presence */
.make67-page .m67-lb-item.rank-unit .name { color: #a8a29e; text-shadow: 0 0 14px rgba(168,162,158,0.70); }
.make67-page .m67-lb-item.rank-unit { border-color: rgba(168,162,158,0.52); }

/* UNFAIR (2700) â€“ sky blue */
.make67-page .m67-lb-item.rank-unfair .name { color: #38bdf8; text-shadow: 0 0 18px rgba(56,189,248,0.82); }
.make67-page .m67-lb-item.rank-unfair { border-color: rgba(56,189,248,0.65); }

/* JUICED (2800) â€“ lime green */
.make67-page .m67-lb-item.rank-juiced .name { color: #a3e635; text-shadow: 0 0 18px rgba(163,230,53,0.80); }
.make67-page .m67-lb-item.rank-juiced { border-color: rgba(163,230,53,0.62); }

/* HEKNOWS (2900) â€“ mystic purple */
.make67-page .m67-lb-item.rank-heknows .name { color: #c084fc; text-shadow: 0 0 18px rgba(192,132,252,0.82); }
.make67-page .m67-lb-item.rank-heknows { border-color: rgba(192,132,252,0.65); }

/* UNINSTALL (3000) â€“ blazing orange */
.make67-page .m67-lb-item.rank-uninstall .name { color: #fb923c; text-shadow: 0 0 20px rgba(251,146,60,0.85); }
.make67-page .m67-lb-item.rank-uninstall { border-color: rgba(251,146,60,0.68); }

/* TOOSMART (3100) â€“ aqua */
.make67-page .m67-lb-item.rank-toosmart .name { color: #2dd4bf; text-shadow: 0 0 20px rgba(45,212,191,0.85); }
.make67-page .m67-lb-item.rank-toosmart { border-color: rgba(45,212,191,0.68); }

/* BUSINESS (3200) â€“ royal violet */
.make67-page .m67-lb-item.rank-business .name { color: #a78bfa; text-shadow: 0 0 20px rgba(167,139,250,0.85); }
.make67-page .m67-lb-item.rank-business { border-color: rgba(167,139,250,0.68); }

/* GOAT (3300) â€“ golden amber */
.make67-page .m67-lb-item.rank-goat .name { color: #fbbf24; text-shadow: 0 0 22px rgba(251,191,36,0.88); }
.make67-page .m67-lb-item.rank-goat { border-color: rgba(251,191,36,0.72); }

/* NOTHUMAN (3400) â€“ alien emerald */
.make67-page .m67-lb-item.rank-nothuman .name { color: #34d399; text-shadow: 0 0 22px rgba(52,211,153,0.88); }
.make67-page .m67-lb-item.rank-nothuman { border-color: rgba(52,211,153,0.72); }

/* FINALBOSS (3500) â€“ animated rainbow glow */
.make67-page .m67-lb-item.rank-finalboss .name {
  color: #fff;
  text-shadow: 0 0 10px #ff0080, 0 0 20px #ff0080, 0 0 30px #8000ff, 0 0 40px #8000ff;
  animation: finalboss-glow 2s ease-in-out infinite alternate;
}
.make67-page .m67-lb-item.rank-finalboss {
  border-color: rgba(255,0,128,0.75);
  background: linear-gradient(135deg, rgba(255,0,128,0.1) 0%, rgba(128,0,255,0.1) 100%);
}
@keyframes finalboss-glow {
  0% { text-shadow: 0 0 10px #ff0080, 0 0 20px #ff0080, 0 0 30px #8000ff; }
  100% { text-shadow: 0 0 15px #8000ff, 0 0 25px #8000ff, 0 0 35px #ff0080; }
}

/* YAPPER (3600) â€“ loud orange-red */
.make67-page .m67-lb-item.rank-yapper .name { color: #ff6347; text-shadow: 0 0 24px rgba(255,99,71,0.90); }
.make67-page .m67-lb-item.rank-yapper { border-color: rgba(255,99,71,0.75); }

/* DELULU (3700) â€“ dreamy pastel rainbow */
.make67-page .m67-lb-item.rank-delulu .name {
  color: #fff;
  background: linear-gradient(90deg, #ff9a9e, #fad0c4, #a1c4fd, #c2e9fb, #d4fc79);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: delulu-shift 3s ease-in-out infinite;
  text-shadow: none;
}
.make67-page .m67-lb-item.rank-delulu { border-color: rgba(255,154,158,0.70); background: linear-gradient(135deg, rgba(255,154,158,0.08), rgba(161,196,253,0.08)); }
@keyframes delulu-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* GYATT (3800) â€“ blush pink pulsing */
.make67-page .m67-lb-item.rank-gyatt .name { color: #ff69b4; text-shadow: 0 0 26px rgba(255,105,180,0.92); animation: gyatt-pulse 1.5s ease-in-out infinite; }
.make67-page .m67-lb-item.rank-gyatt { border-color: rgba(255,105,180,0.78); }
@keyframes gyatt-pulse {
  0%, 100% { text-shadow: 0 0 26px rgba(255,105,180,0.92); }
  50% { text-shadow: 0 0 35px rgba(255,105,180,1), 0 0 50px rgba(255,105,180,0.6); }
}

/* SKIBIDI (3900) â€“ chaotic toilet cyan */
.make67-page .m67-lb-item.rank-skibidi .name { color: #00ced1; text-shadow: 0 0 28px rgba(0,206,209,0.95); animation: skibidi-shake 0.5s ease-in-out infinite; }
.make67-page .m67-lb-item.rank-skibidi { border-color: rgba(0,206,209,0.80); }
@keyframes skibidi-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-2px) rotate(-1deg); }
  75% { transform: translateX(2px) rotate(1deg); }
}

/* RIZZWIZARD (4000) â€“ smooth purple magic */
.make67-page .m67-lb-item.rank-rizzwizard .name {
  color: #9370db;
  text-shadow: 0 0 30px rgba(147,112,219,0.95), 0 0 50px rgba(147,112,219,0.5);
  animation: rizz-glow 2s ease-in-out infinite alternate;
}
.make67-page .m67-lb-item.rank-rizzwizard { border-color: rgba(147,112,219,0.82); background: linear-gradient(135deg, rgba(147,112,219,0.12), transparent); }
@keyframes rizz-glow {
  0% { text-shadow: 0 0 30px rgba(147,112,219,0.95), 0 0 50px rgba(147,112,219,0.5); }
  100% { text-shadow: 0 0 40px rgba(186,85,211,1), 0 0 60px rgba(186,85,211,0.7); }
}

/* NOCAPDEITY (4100) â€“ truthful blue */
.make67-page .m67-lb-item.rank-nocapdeity .name { color: #4169e1; text-shadow: 0 0 32px rgba(65,105,225,0.95); }
.make67-page .m67-lb-item.rank-nocapdeity { border-color: rgba(65,105,225,0.85); }

/* SLAYINCARNATE (4200) â€“ fierce magenta */
.make67-page .m67-lb-item.rank-slayincarnate .name { color: #ff1493; text-shadow: 0 0 34px rgba(255,20,147,0.98); animation: slay-shimmer 1.8s ease-in-out infinite; }
.make67-page .m67-lb-item.rank-slayincarnate { border-color: rgba(255,20,147,0.88); }
@keyframes slay-shimmer {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.15) saturate(1.2); }
}

/* BUSSIN (4300) â€“ tasty warm gradient */
.make67-page .m67-lb-item.rank-bussin .name {
  color: #fff;
  background: linear-gradient(90deg, #ff6b35, #f7931e, #ffcc00);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: none;
  filter: drop-shadow(0 0 8px rgba(247,147,30,0.6));
}
.make67-page .m67-lb-item.rank-bussin { border-color: rgba(247,147,30,0.88); background: linear-gradient(135deg, rgba(255,107,53,0.10), rgba(255,204,0,0.08)); }

/* RENTFREE (4400) â€“ haunting ghost white */
.make67-page .m67-lb-item.rank-rentfree .name { color: #e8e8e8; text-shadow: 0 0 36px rgba(232,232,232,0.98), 0 0 60px rgba(200,200,255,0.5); animation: rentfree-flicker 3s ease-in-out infinite; }
.make67-page .m67-lb-item.rank-rentfree { border-color: rgba(232,232,232,0.70); background: linear-gradient(135deg, rgba(200,200,255,0.08), transparent); }
@keyframes rentfree-flicker {
  0%, 90%, 100% { opacity: 1; }
  92%, 94% { opacity: 0.7; }
}

/* OHIOFINALBOSS (4500) â€“ corn yellow with menace */
.make67-page .m67-lb-item.rank-ohiofinalboss .name {
  color: #fff;
  text-shadow: 0 0 20px #ffd700, 0 0 40px #ff4500, 0 0 60px #ff0000;
  animation: ohio-menace 2s ease-in-out infinite alternate;
}
.make67-page .m67-lb-item.rank-ohiofinalboss { border-color: rgba(255,215,0,0.90); background: linear-gradient(135deg, rgba(255,215,0,0.15), rgba(255,69,0,0.10)); }
@keyframes ohio-menace {
  0% { text-shadow: 0 0 20px #ffd700, 0 0 40px #ff4500, 0 0 60px #ff0000; }
  100% { text-shadow: 0 0 30px #ff0000, 0 0 50px #ff4500, 0 0 70px #ffd700; }
}

/* RATIO (4600) â€“ dominating red-blue split */
.make67-page .m67-lb-item.rank-ratio .name {
  color: #fff;
  background: linear-gradient(90deg, #ff4757, #3742fa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 10px rgba(55,66,250,0.7));
}
.make67-page .m67-lb-item.rank-ratio { border-color: rgba(55,66,250,0.88); }

/* NPCSLAYER (4700) â€“ gaming green matrix */
.make67-page .m67-lb-item.rank-npcslayer .name { color: #00ff00; text-shadow: 0 0 40px rgba(0,255,0,1), 0 0 80px rgba(0,255,0,0.6); font-family: 'Courier New', monospace; animation: npc-flicker 0.1s step-end infinite; }
.make67-page .m67-lb-item.rank-npcslayer { border-color: rgba(0,255,0,0.90); background: rgba(0,20,0,0.3); }
@keyframes npc-flicker {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.95; }
}

/* UNHINGED (4800) â€“ crazy multicolor chaos */
.make67-page .m67-lb-item.rank-unhinged .name {
  color: #fff;
  animation: unhinged-rainbow 1s linear infinite;
}
.make67-page .m67-lb-item.rank-unhinged { border-color: rgba(255,255,255,0.70); animation: unhinged-border 1s linear infinite; }
@keyframes unhinged-rainbow {
  0% { text-shadow: 0 0 30px #ff0000; color: #ff0000; }
  16% { text-shadow: 0 0 30px #ff8800; color: #ff8800; }
  33% { text-shadow: 0 0 30px #ffff00; color: #ffff00; }
  50% { text-shadow: 0 0 30px #00ff00; color: #00ff00; }
  66% { text-shadow: 0 0 30px #0088ff; color: #0088ff; }
  83% { text-shadow: 0 0 30px #8800ff; color: #8800ff; }
  100% { text-shadow: 0 0 30px #ff0000; color: #ff0000; }
}
@keyframes unhinged-border {
  0% { border-color: rgba(255,0,0,0.8); }
  16% { border-color: rgba(255,136,0,0.8); }
  33% { border-color: rgba(255,255,0,0.8); }
  50% { border-color: rgba(0,255,0,0.8); }
  66% { border-color: rgba(0,136,255,0.8); }
  83% { border-color: rgba(136,0,255,0.8); }
  100% { border-color: rgba(255,0,0,0.8); }
}

/* CHRONGOAT (4900) â€“ legendary gold-teal combo */
.make67-page .m67-lb-item.rank-chrongoat .name {
  color: #fff;
  background: linear-gradient(90deg, #ffd700, #00d4aa, #ffd700);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: chrongoat-shift 2s ease-in-out infinite;
  filter: drop-shadow(0 0 12px rgba(255,215,0,0.8));
}
.make67-page .m67-lb-item.rank-chrongoat { border-color: rgba(0,212,170,0.92); background: linear-gradient(135deg, rgba(255,215,0,0.12), rgba(0,212,170,0.10)); }
@keyframes chrongoat-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* GLAZING (5000) â€“ sweet donut pink-brown */
.make67-page .m67-lb-item.rank-glazing .name {
  color: #fff;
  background: linear-gradient(90deg, #ff69b4, #d2691e, #ff69b4);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: glazing-drip 2.5s ease-in-out infinite;
  filter: drop-shadow(0 0 14px rgba(255,105,180,0.9));
}
.make67-page .m67-lb-item.rank-glazing { border-color: rgba(255,105,180,0.95); background: linear-gradient(135deg, rgba(210,105,30,0.15), rgba(255,105,180,0.12)); }
@keyframes glazing-drip {
  0%, 100% { background-position: 0% 50%; filter: drop-shadow(0 0 14px rgba(255,105,180,0.9)); }
  50% { background-position: 100% 50%; filter: drop-shadow(0 0 20px rgba(210,105,30,1)); }
}

/* FANUMTAX (5100) â€“ fry golden crispy */
.make67-page .m67-lb-item.rank-fanumtax .name { color: #ffa500; text-shadow: 0 0 45px rgba(255,165,0,1), 0 0 70px rgba(255,215,0,0.7); animation: fanum-crisp 1.2s ease-in-out infinite; }
.make67-page .m67-lb-item.rank-fanumtax { border-color: rgba(255,165,0,0.95); background: linear-gradient(135deg, rgba(255,215,0,0.18), rgba(255,165,0,0.12)); }
@keyframes fanum-crisp {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

/* AURAMAXED (5200) â€“ ethereal white-gold aura */
.make67-page .m67-lb-item.rank-auramaxed .name {
  color: #fff;
  text-shadow: 0 0 20px #fff, 0 0 40px #ffd700, 0 0 60px #fff, 0 0 80px #ffd700;
  animation: aura-radiate 2s ease-in-out infinite alternate;
}
.make67-page .m67-lb-item.rank-auramaxed { border-color: rgba(255,255,255,0.95); background: radial-gradient(ellipse at center, rgba(255,215,0,0.15), transparent 70%); box-shadow: 0 0 30px rgba(255,215,0,0.4); }
@keyframes aura-radiate {
  0% { text-shadow: 0 0 20px #fff, 0 0 40px #ffd700, 0 0 60px #fff; }
  100% { text-shadow: 0 0 30px #ffd700, 0 0 50px #fff, 0 0 80px #ffd700, 0 0 100px #fff; }
}

/* SIGMAGRIND (5300) â€“ steely blue determination */
.make67-page .m67-lb-item.rank-sigmagrind .name { color: #708090; text-shadow: 0 0 25px rgba(112,128,144,0.95), 0 0 50px rgba(70,130,180,0.6); animation: sigma-focus 3s ease-in-out infinite; }
.make67-page .m67-lb-item.rank-sigmagrind { border-color: rgba(70,130,180,0.90); background: linear-gradient(135deg, rgba(112,128,144,0.15), rgba(70,130,180,0.10)); }
@keyframes sigma-focus {
  0%, 100% { filter: brightness(1) contrast(1); }
  50% { filter: brightness(1.1) contrast(1.1); }
}

/* MEWING (5400) â€“ jaw-defining sharp cyan */
.make67-page .m67-lb-item.rank-mewing .name { color: #00ffff; text-shadow: 0 0 30px rgba(0,255,255,1), 0 0 60px rgba(0,255,255,0.8), 0 0 90px rgba(0,255,255,0.5); animation: mew-sharpen 1.5s ease-in-out infinite alternate; }
.make67-page .m67-lb-item.rank-mewing { border-color: rgba(0,255,255,0.98); background: linear-gradient(135deg, rgba(0,255,255,0.15), transparent); box-shadow: 0 0 40px rgba(0,255,255,0.3); }
@keyframes mew-sharpen {
  0% { letter-spacing: 0px; }
  100% { letter-spacing: 1px; }
}

/* UNPLAYABLE (5500) â€“ ULTIMATE animated multicolor with particles */
.make67-page .m67-lb-item.rank-unplayable .name {
  color: #fff;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 2px;
  background: linear-gradient(90deg, #ff0000, #ff8800, #ffff00, #00ff00, #00ffff, #0088ff, #8800ff, #ff0088, #ff0000);
  background-size: 400% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: unplayable-spectrum 3s linear infinite;
  filter: drop-shadow(0 0 15px rgba(255,255,255,0.9)) drop-shadow(0 0 30px rgba(255,0,128,0.7));
}
.make67-page .m67-lb-item.rank-unplayable {
  border: 2px solid transparent;
  background: linear-gradient(rgba(20,20,30,0.95), rgba(20,20,30,0.95)) padding-box,
              linear-gradient(90deg, #ff0000, #ff8800, #ffff00, #00ff00, #00ffff, #0088ff, #8800ff, #ff0088, #ff0000) border-box;
  background-size: 100% 100%, 400% 100%;
  animation: unplayable-border 3s linear infinite;
  box-shadow: 0 0 40px rgba(255,0,128,0.5), 0 0 80px rgba(0,255,255,0.3), inset 0 0 20px rgba(255,255,255,0.05);
}
@keyframes unplayable-spectrum {
  0% { background-position: 0% 50%; }
  100% { background-position: 400% 50%; }
}
@keyframes unplayable-border {
  0% { background-position: 100% 100%, 0% 50%; }
  100% { background-position: 100% 100%, 400% 50%; }
}

.make67-page .m67-lb-item.top1 .total { color: #fff7c2; text-shadow: 0 0 8px rgba(255,215,0,0.35); }

/* CHEATER â€“ explicit red styling: name in red, CHEATER label bold red */
.make67-page .m67-lb-item.rank-cheater .name { color: #ff2d2d; text-shadow: 0 0 10px rgba(255,45,45,0.55); }
.make67-page .m67-lb-item.rank-cheater .rank-title { color: #ff2d2d; font-weight: 900; letter-spacing: 0.6px; }
.make67-page .m67-lb-item.rank-cheater { border-color: rgba(255,45,45,0.45); }

/* Decorative golden star next to #1 name */
.make67-page .m67-lb-item .name { display: inline-flex; align-items: center; gap: 6px; }
.top1-star {
  position: relative;
  display: inline-block;
  color: #FFD700;
  font-size: 1.05em;
  line-height: 1;
  margin-right: 6px;
  filter: drop-shadow(0 0 6px rgba(255, 215, 0, 0.55));
  animation: star-pulse 1.6s ease-in-out infinite;
}
/* Tiny orbiting spark around the star */
.top1-star::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 6px;
  height: 6px;
  margin-left: -3px;
  margin-top: -3px;
  border-radius: 50%;
  background: #FFD700;
  box-shadow: 0 0 8px rgba(255, 215, 0, 0.75);
  transform: rotate(0deg) translateX(12px) rotate(0deg);
  transform-origin: center;
  animation: orbit 2.8s linear infinite;
}

@keyframes top1-glow {
  0%, 100% {
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(255, 215, 0, 0.45),
      0 0 14px rgba(255, 215, 0, 0.26);
  }
  50% {
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(255, 215, 0, 0.85),
      0 0 24px rgba(255, 215, 0, 0.40);
  }
}

@keyframes star-pulse {
  0% { transform: rotate(0deg) scale(1); }
  50% { transform: rotate(12deg) scale(1.18); }
  100% { transform: rotate(0deg) scale(1); }
}

@keyframes orbit {
  0%   { transform: rotate(0deg) translateX(12px) rotate(0deg); }
  100% { transform: rotate(360deg) translateX(12px) rotate(-360deg); }
}

@media (prefers-reduced-motion: reduce) {
  .make67-page .m67-lb-item.top1 { animation: none; }
  .top1-star { animation: none; }
  .top1-star::after { animation: none; }
}

/* Danger button (red) for BANNED USERS */
.danger-btn {
  min-width: 160px;
  padding: 10px 14px;
  border-radius: 12px;
  border: 1px solid #7a1d1d;
  background: linear-gradient(180deg, rgba(255,72,72,0.18), rgba(255,72,72,0.10));
  color: #ffecec;
  font-weight: 900;
  letter-spacing: .3px;
  cursor: pointer;
  box-shadow: 0 10px 24px rgba(255,0,0,0.16), var(--shadow);
}
.danger-btn:hover {
  filter: brightness(1.08);
  box-shadow: 0 14px 30px rgba(255,0,0,0.22), var(--shadow);
}
.danger-btn:active { filter: brightness(0.95); }
.danger-btn:focus-visible { outline: 2px solid rgba(255,72,72,0.9); outline-offset: 2px; }

/* Banned users modal */
.m67-ban-root { position: fixed; inset: 0; z-index: 10015; display: block; }
.m67-ban-root[hidden] { display: none !important; }
.m67-ban-overlay { position: absolute; inset: 0; display: grid; place-items: center; }
.m67-ban__backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.55); -webkit-backdrop-filter: blur(4px); backdrop-filter: blur(4px); }
.m67-ban__panel { position: relative; z-index: 1; width: min(92vw, 640px); max-height: min(86vh, 720px); overflow-y: auto; overflow-x: hidden; border-radius: 18px; padding: 18px; background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.14); box-shadow: 0 24px 70px rgba(0,0,0,0.6); color: #e8ecf5; box-sizing: border-box; }
.m67-ban__title { margin: 6px 0 6px; text-align: center; font-size: 18px; font-weight: 900; letter-spacing: .3px; }
.m67-ban__subtitle { margin: 0 0 10px; text-align: center; font-size: 13px; color: var(--axis); }
.m67-ban__icon { width: 56px; height: 56px; display: grid; place-items: center; font-size: 34px; border-radius: 50%; margin: 0 auto 6px; background: radial-gradient(60% 60% at 40% 30%, #ffffffbb, #ffffff22), linear-gradient(180deg, rgba(255,72,72,0.35), rgba(255,72,72,0.18)); box-shadow: 0 8px 24px rgba(0,0,0,0.45), 0 0 0 2px rgba(255,255,255,0.10) inset; }
.m67-ban__close { position: absolute; top: 10px; right: 10px; border: 1px solid #3a3f47; background: #1c1f26; color: #e8ecf5; border-radius: 10px; padding: 6px 8px; cursor: pointer; }
.m67-ban__close:hover { filter: brightness(1.05); }

/* Generic modal (used for Inventory and Shop) */
.m67-modal-root { position: fixed; inset: 0; z-index: 10015; display: block; }
.m67-modal-root[hidden] { display: none !important; }
.m67-modal-overlay { position: absolute; inset: 0; display: grid; place-items: center; }
.m67-modal__backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.55); -webkit-backdrop-filter: blur(4px); backdrop-filter: blur(4px); }
.m67-modal__panel { position: relative; z-index: 1; width: min(92vw, 760px); max-height: min(86vh, 780px); overflow-y: auto; overflow-x: hidden; scrollbar-gutter: stable both-edges; border-radius: 18px; padding: 18px; background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.14); box-shadow: 0 24px 70px rgba(0,0,0,0.6); color: #e8ecf5; box-sizing: border-box; overscroll-behavior: contain; }
.m67-modal__title { margin: 4px 0 12px; text-align: center; font-size: 18px; font-weight: 900; letter-spacing: .3px; }
.m67-modal__close { position: absolute; top: 10px; right: 10px; border: 1px solid #3a3f47; background: #1c1f26; color: #e8ecf5; border-radius: 10px; padding: 6px 8px; cursor: pointer; }
.m67-modal__close:hover { filter: brightness(1.05); }
/* Prevent focus outline from causing any perceived size change */
.m67-modal__close:focus-visible { outline-offset: 2px; }

/* Shop grid: isolate paint so hover glows don't affect scroll metrics */
.m67-shop { contain: paint; }

/* === Make67 Regal Empowerment Themes & FX === */
/* Base variables (will be overridden by theme classes) */
.make67-page { --accent: #9fe3b5; --accent-2: #6ee7b7; --emp: 0; }

/* Theme palettes (color combos from brief) */
.make67-page.theme-elite { /* Black + Gold (Elite Authority) */
  --accent: #ffd700;
  --accent-2: #b8860b;
}
.make67-page.theme-mystic { /* Deep Purple + Electric Cyan (Mystic Royalty) */
  --accent: #7c3aed;
  --accent-2: #22d3ee;
}
.make67-page.theme-darkking { /* Crimson + Obsidian (Dark King Energy) */
  --accent: #ef4444;
  --accent-2: #0ea5e9; /* add subtle electric contrast */
}
.make67-page.theme-hero { /* Royal Blue + Platinum (Heroic Leader) */
  --accent: #4f46e5;
  --accent-2: #cfd3dc;
}
.make67-page.theme-tycoon { /* Emerald + Gold (Wealth + Control) */
  --accent: #22c55e;
  --accent-2: #f59e0b;
}

/* Auras around the board (subtle, slow) */
.make67-page .cards-grid::before {
  content: "";
  position: absolute;
  inset: -12%;
  border-radius: 24px;
  pointer-events: none;
  background:
    radial-gradient(40% 30% at 50% 25%, color-mix(in srgb, var(--accent) calc(30% + 50% * var(--emp)), transparent), transparent 70%),
    radial-gradient(30% 22% at 55% 70%, color-mix(in srgb, var(--accent-2) calc(18% + 36% * var(--emp)), transparent), transparent 70%);
  opacity: calc(0.08 + 0.45 * var(--emp));
  filter: blur(calc(16px + 32px * var(--emp)));
  animation: aura-breathe calc(12s - 7s * var(--emp)) ease-in-out infinite;
}
@keyframes aura-breathe {
  0%, 100% { transform: scale(1); }
  50%      { transform: scale(1.06); }
}

/* Reactive neon/glow borders on cards and op buttons (scaled by empowerment) */
.make67-page .card::after, .make67-page .op-btn::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
  box-shadow:
    0 0 calc(16px + 38px * var(--emp)) color-mix(in srgb, var(--accent) 72%, transparent),
    0 0 calc(3px + 12px * var(--emp)) color-mix(in srgb, var(--accent-2) 55%, transparent) inset;
  opacity: 0;
  transition: opacity 180ms ease;
}
.make67-page .card:hover::after, .make67-page .card.selected::after, .make67-page .card.react-hit::after { opacity: calc(0.30 + 0.65 * var(--emp)); }
.make67-page .op-btn:hover::after, .make67-page .op-btn.active::after, .make67-page .op-btn.react-hit::after { opacity: calc(0.26 + 0.58 * var(--emp)); }

/* Always-on pulsing glow layer (dialed by empowerment) */
.make67-page .card::before,
.make67-page .op-btn::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  pointer-events: none;
  box-shadow:
    0 0 calc(10px + 30px * var(--emp)) color-mix(in srgb, var(--accent) 55%, transparent),
    0 0 calc(2px + 10px * var(--emp)) color-mix(in srgb, var(--accent-2) 40%, transparent) inset;
  opacity: calc(0.06 + 0.22 * var(--emp));
  animation: glowPulse calc(3.2s - 1.6s * var(--emp)) ease-in-out infinite;
}

/* Ambient pulsing under the board */
.make67-page .cards-grid::after {
  content: "";
  position: absolute;
  inset: -10%;
  border-radius: 24px;
  pointer-events: none;
  box-shadow:
    0 0 calc(30px + 60px * var(--emp)) color-mix(in srgb, var(--accent) 45%, transparent),
    0 0 calc(20px + 40px * var(--emp)) color-mix(in srgb, var(--accent-2) 35%, transparent) inset;
  opacity: calc(0.05 + 0.18 * var(--emp));
  animation: glowPulse calc(4.4s - 2.2s * var(--emp)) ease-in-out infinite;
}

@keyframes glowPulse {
  0%, 100% { opacity: calc(0.05 + 0.20 * var(--emp)); }
  50% { opacity: calc(0.22 + 0.60 * var(--emp)); }
}

/* Allâ€‘time rank charge bar under the score box */
.make67-page .score-box { position: relative; overflow: hidden; }
.make67-page .score-box.charged::before {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: 0;
  height: 4px;
  background: linear-gradient(90deg, rgba(255,255,255,0), var(--accent), var(--accent-2));
  transform-origin: left center;
  transform: scaleX(var(--charge, 0));
  filter: drop-shadow(0 0 14px color-mix(in srgb, var(--accent) 85%, transparent));
  transition: transform 600ms cubic-bezier(.2,.7,.2,1);
}
.make67-page .score-box.charge-burst::after {
  content: "";
  position: absolute;
  left: -20%; right: -20%; bottom: 0;
  height: 4px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.9), transparent);
  transform: translateX(-100%);
  animation: charge-skim 900ms ease forwards;
}
@keyframes charge-skim { to { transform: translateX(100%); opacity: 0; } }

/* Score sparks on increment */
.make67-page .score-box .spark {
  position: absolute;
  left: 50%; top: 50%;
  width: 8px; height: 8px; border-radius: 50%;
  background: var(--accent);
  box-shadow: 0 0 14px color-mix(in srgb, var(--accent) 85%, transparent);
  transform: translate(-50%, -50%);
  animation: spark 700ms ease-out forwards;
}
@keyframes spark {
  to {
    transform: translate(calc(-50% + var(--dx, 0px)), calc(-50% + var(--dy, -32px))) scale(0.85);
    opacity: 0;
  }
}

/* Prefer reduced motion: soften or disable thematic animations */
@media (prefers-reduced-motion: reduce) {
  .make67-page .cards-grid::before { animation: none; }
  .make67-page .cards-grid::after { animation: none; }
  .make67-page .card::before, .make67-page .op-btn::before { animation: none; }
  .make67-page .score-box.charge-burst::after { animation: none; }
  .make67-page .score-box .spark { animation-duration: 1ms; }
}

/* Slight pulsing accent for success overlay glow */
.m67-overlay__glow {
  animation: glowPulse 3.6s ease-in-out infinite;
}

/* === Make67 Split Layout (Game UI Modernization) === */
.make67-page .split-layout {
  display: grid;
  grid-template-columns: 1fr 2fr; /* 1/3 + 2/3 split */
  height: calc(100vh - var(--header-h, 120px));
  overflow: hidden;
  background: #0f1014;
}

/* Left Panel */
.make67-page .panel-left {
  background: #15171e;
  border-right: 1px solid rgba(255,255,255,0.1);
  display: flex;
  flex-direction: column;
  padding: 20px;
  overflow-y: auto;
}
.make67-page .stats-hud {
  background: rgba(255,255,255,0.05);
  border-radius: 16px;
  padding: 15px;
  margin-bottom: 20px;
}
.make67-page .stat-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.make67-page .stat-item { display: flex; justify-content: space-between; align-items: center; font-weight: 800; font-size: 1.1rem; padding: 8px 10px; border: 1px solid var(--cell-border); border-radius: 12px; background: #1a1c23; }
.make67-page .stat-item.gold { color: #ffd700; }
.make67-page .stat-item .label { color: var(--axis); font-weight: 700; }
.make67-page .stat-item .value { font-weight: 900; }
.make67-page .effects-bar { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px; color: #ccd1db; opacity: .9; font-size: 13px; }

.make67-page .leaderboard-container { flex: 1; display: flex; flex-direction: column; min-height: 0; }
.make67-page .lb-header { margin: 6px 2px 10px; font-size: 14px; font-weight: 800; color: var(--axis); letter-spacing: .3px; }
.make67-page .lb-list { list-style: none; margin: 0; padding: 0; display: grid; gap: 6px; }
.make67-page .panel-footer { margin-top: 16px; display: flex; justify-content: center; }
.make67-page .text-link { background: transparent; border: 0; color: #9ab4ff; text-decoration: underline; cursor: pointer; opacity: .9; }
.make67-page .text-link:hover { opacity: 1; }

/* Right Panel */
.make67-page .panel-right {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: radial-gradient(circle at center, #1b1c22 0%, #0a0b0e 100%);
}
.make67-page .game-board-wrapper { position: relative; padding: 40px; }
.make67-page .shoulder-btn {
  position: absolute;
  top: 0;
  width: 40px; height: 40px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.4);
  background: rgba(20, 24, 30, 0.85);
  -webkit-backdrop-filter: blur(8px) saturate(1.2);
  backdrop-filter: blur(8px) saturate(1.2);
  color: #e8f0ff;
  cursor: pointer;
  font-weight: 800;
  font-size: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5), 0 0 0 2px rgba(255,255,255,0.08) inset;
  z-index: 10;
  transition: transform 0.15s ease, background 0.15s ease, box-shadow 0.15s ease;
}
.make67-page .shoulder-btn:hover {
  background: rgba(30, 34, 42, 0.92);
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.6), 0 0 0 2px rgba(255,255,255,0.14) inset;
}
.make67-page .shoulder-btn.left { left: 0; }
.make67-page .shoulder-btn.right { right: 0; }

/* Bottom Dock */
.make67-page .game-dock {
  position: absolute;
  bottom: 30px;
  display: flex;
  gap: 16px;
  padding: 12px 24px;
  background: rgba(20, 24, 30, 0.75); /* 75% "rendered" per request */
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border-radius: 24px;
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 10px 40px rgba(0,0,0,0.6);
}
.make67-page .dock-btn { appearance: none; background: transparent; border: 1px solid rgba(255,255,255,0.16); color: #e8ecf5; border-radius: 14px; padding: 8px 12px; font-size: 20px; cursor: pointer; }
.make67-page .dock-btn:hover { filter: brightness(1.08); }

/* Header right container to align dock left of auth info */
.make67-page .header-right {
  position: absolute;
  right: 16px;
  top: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.make67-page .header .game-dock.header-dock {
  position: static;
  bottom: auto;
  padding: 8px 14px;
  gap: 12px;
  border-radius: 16px;
  /* Black at 75% opacity (25% transparency) â€” mostly opaque */
  background: rgba(0, 0, 0, 0.75);
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 6px 18px rgba(0,0,0,0.35), 0 0 0 1px rgba(255,255,255,0.05) inset;
  position: relative;
  z-index: 10;
}
/* Auth actions inside header-right should not be absolutely positioned */
.make67-page .header .auth-actions {
  position: relative;
  right: auto;
  top: auto;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 12px;
  /* Black at 75% opacity (25% transparency) â€” mostly opaque */
  background: rgba(0, 0, 0, 0.75);
  /* remove frosted-glass so it's truly opaque */
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 6px 18px rgba(0,0,0,0.35), 0 0 0 1px rgba(255,255,255,0.05) inset;
  z-index: 10;
}

/* Make the auth buttons readable like shoulder buttons on this page */
.make67-page .header .auth-actions .google-login-btn,
.make67-page .header .auth-actions .logout-btn {
  /* Black at 75% opacity (25% transparency) â€” mostly opaque */
  background: rgba(0, 0, 0, 0.75);
  border: 1px solid rgba(255,255,255,0.16);
  color: #e8f0ff;
  border-radius: 10px;
  padding: 6px 10px;
  box-shadow: 0 0 0 1px rgba(255,255,255,0.06) inset;
}
.make67-page .header .auth-actions .google-login-btn:hover,
.make67-page .header .auth-actions .logout-btn:hover {
  background: rgba(0, 0, 0, 0.75);
}

/* Improve text/icon contrast inside the frosted pill */
.make67-page .header .auth-actions .user-name { color: #e3e8f3; opacity: .95; }
.make67-page .header .auth-actions .avatar { box-shadow: 0 0 0 1px rgba(255,255,255,0.35); }

/* Chat overlay (glass) */
.make67-page .glass-overlay { position: absolute; inset: 0; display: grid; place-items: center; z-index: 50; }
.make67-page .glass-overlay[hidden] { display: none !important; }
.make67-page .glass-panel {
  width: min(92vw, 720px);
  max-height: min(86vh, 760px);
  overflow: auto;
  border-radius: 18px;
  padding: 14px;
  color: #e8ecf5;
  background:
    radial-gradient(1200px 800px at 50% -20%, rgba(255,255,255,0.08), rgba(255,255,255,0.02)),
    linear-gradient(180deg, rgba(30,32,40,0.9), rgba(18,20,26,0.96));
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 24px 70px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.06) inset;
}

/* --- Seasonal (Xmas) decorations for Make67 --- */
.snow-canvas {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 1; /* Keep below primary UI, above page background */
}

.xmas-title {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.xmas-title .xmas-emoji {
  filter: drop-shadow(0 0 6px rgba(255, 100, 100, 0.55));
}

/* Garland strip with twinkling bulbs */
.xmas-garland {
  position: absolute;
  left: 0;
  right: 0;
  height: 34px;
  pointer-events: none;
  mix-blend-mode: screen;
  z-index: 4; /* ensure lights sit above borders/outlines */
}
.garland-header { top: 0; }
.garland-board { top: -8px; }

.xmas-garland::before {
  content: "";
  position: absolute;
  inset: 0;
  /* cable */
  background:
    linear-gradient(#1c2a2f, #1c2a2f) center 10px / 100% 3px no-repeat,
    /* bulbs (solid cores) */
    radial-gradient(circle, rgba(255,85,85,.95) 0 6px, transparent 7px) 0 0/48px 32px repeat-x,
    radial-gradient(circle, rgba(255,240,120,.95) 0 6px, transparent 7px) 16px 10px/48px 32px repeat-x,
    radial-gradient(circle, rgba(120,235,180,.95) 0 6px, transparent 7px) 32px 0/48px 32px repeat-x,
    radial-gradient(circle, rgba(140,180,255,.95) 0 6px, transparent 7px) 8px 18px/48px 32px repeat-x,
    /* colored glow halos matching each bulb color */
    radial-gradient(circle, rgba(255,85,85,.40) 0 9px, rgba(255,85,85,.18) 16px, rgba(255,85,85,0) 26px) 0 0/48px 32px repeat-x,
    radial-gradient(circle, rgba(255,240,120,.40) 0 9px, rgba(255,240,120,.18) 16px, rgba(255,240,120,0) 26px) 16px 10px/48px 32px repeat-x,
    radial-gradient(circle, rgba(120,235,180,.38) 0 9px, rgba(120,235,180,.16) 16px, rgba(120,235,180,0) 26px) 32px 0/48px 32px repeat-x,
    radial-gradient(circle, rgba(140,180,255,.38) 0 9px, rgba(140,180,255,.16) 16px, rgba(140,180,255,0) 26px) 8px 18px/48px 32px repeat-x;
  animation: bulbsTwinkle 2.6s ease-in-out infinite;
  /* remove white drop shadow so the glow matches bulb colors */
  filter: none;
}

@keyframes bulbsTwinkle {
  0%, 100% { opacity: .85; }
  50% { opacity: .55; }
}

/* Slightly desynchronize header/board twinkle for a more natural effect */
.garland-header::before { animation-duration: 2.8s; animation-delay: .15s; }
.garland-board::before { animation-duration: 3.2s; animation-delay: 1.1s; }

/* Slight festive focus around the game board */
.make67-page .game-board-wrapper {
  position: relative;
}
.make67-page .game-board-wrapper::after {
  content: "";
  position: absolute;
  inset: -6px;
  border-radius: 18px;
  pointer-events: none;
  box-shadow: 0 0 0 2px rgba(255,255,255,0.05), 0 0 22px rgba(255, 60, 60, 0.18), 0 0 38px rgba(80, 200, 120, 0.18);
  z-index: 1; /* keep this glow behind the garland */
}

/* Mobile */
@media (max-width: 768px) {
  /* Header Cleanup */
  .make67-page .header { padding: 10px 12px 8px; }
  .make67-page .title { font-size: 18px; margin: 4px 0; }
  .make67-page .subtitle { font-size: 12px; margin-top: 2px; }
  .make67-page .xmas-emoji { font-size: 16px; }

  /* Hide back link and make6or7 button on mobile */
  .make67-page .back-link,
  .make67-page .make67-btn { display: none; }

  /* Consolidate header-right elements */
  .make67-page .header-right {
    position: static;
    justify-content: center;
    gap: 8px;
    margin-top: 8px;
    flex-wrap: wrap;
  }

  /* Simplify auth display - avatar only */
  .make67-page .user-name { display: none; }
  .make67-page .avatar { width: 32px; height: 32px; }

  /* Dock buttons smaller, better spacing */
  .make67-page .header .game-dock.header-dock {
    padding: 6px 10px;
    gap: 8px;
    border-radius: 12px;
  }
  .make67-page .dock-btn {
    padding: 6px 10px;
    font-size: 18px;
    min-width: 40px;
    min-height: 40px;
  }

  /* Split layout adjustments */
  .make67-page .split-layout {
    display: block;
    height: calc(100vh - var(--header-h, 100px));
    padding-bottom: env(safe-area-inset-bottom, 20px);
  }
  .make67-page .panel-left { display: none; }
  .make67-page .panel-left.mobile-visible {
    display: flex;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    z-index: 200;
    width: 85vw;
    max-width: 320px;
    box-shadow: 4px 0 24px rgba(0,0,0,0.6);
  }
  .make67-page .panel-left.mobile-visible::before {
    content: "";
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    z-index: -1;
    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(4px);
  }

  .make67-page .panel-right {
    height: calc(100vh - var(--header-h, 100px));
    padding-bottom: env(safe-area-inset-bottom, 20px);
  }
  .make67-page .mobile-only { display: inline-flex; }

  /* Game board sizing improvements */
  .make67-page .game-board-wrapper { padding: 20px 16px; }
  .make67-page .cards-grid {
    grid-template-columns: repeat(2, minmax(140px, 46vw));
    grid-auto-rows: minmax(140px, 46vw);
    gap: 12px;
  }
  .make67-page .card { font-size: clamp(40px, 10vw, 56px); }

  /* Move shoulder buttons below title, not overlapping board */
  .make67-page .shoulder-btn {
    position: static;
    width: 36px;
    height: 36px;
    margin: 0 4px;
  }

  /* Operation buttons better grid */
  .make67-page .ops { gap: 8px; margin-top: 12px; }
  .make67-page .op-btn {
    min-width: 56px;
    min-height: 56px;
    font-size: 22px;
  }

  /* Stats single column */
  .make67-page .stat-row { grid-template-columns: 1fr; gap: 8px; }

  /* Chat overlay mobile fixes */
  .make67-page .glass-panel {
    width: 96vw;
    max-height: 75vh;
    padding-bottom: calc(12px + env(safe-area-inset-bottom, 0px));
  }
  .make67-page .m67-chat__log { max-height: 45vh; }
}
@media (min-width: 769px) {
  .make67-page .mobile-only { display: none; }
}

/* --- Snowballs feature --- */
.snowball-pile {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: env(safe-area-inset-bottom, 0px);
  display: inline-block; /* size to image */
  z-index: 500;
  pointer-events: auto;
}
.snowball-pile-img {
  display: block;
  height: auto;
  max-width: 120px; /* prevent oversized image on small screens */
  pointer-events: none; /* clicks go to overlays */
}
.snowball {
  position: absolute;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: transparent;
  box-shadow: none;
  border: 0;
  cursor: grab;
}
.snowball:active { cursor: grabbing; }
/* approximate hotspots over the image (works regardless of image's natural size) */
.snowball.s1 { top: 16%; left: 50%; transform: translateX(-50%); }
.snowball.s2 { bottom: 8%; left: 22%; }
.snowball.s3 { bottom: 8%; right: 22%; }

/* Cursor helper when holding a snowball */
body.holding-snowball { cursor: none; }
.snowball-cursor {
  position: fixed; left: 0; top: 0; width: 22px; height: 22px; border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #ffffff, #e8f1f9 55%, #d9e6f2 70%, rgba(200,220,240,0.85) 100%);
  box-shadow: 0 2px 6px rgba(0,0,0,0.35), inset 0 1px 3px rgba(255,255,255,0.9);
  border: 1px solid rgba(255,255,255,0.65);
  pointer-events: none; z-index: 600; transform: translate(-50%, -50%);
}

/* Local explosion effect */
.snow-explosion {
  position: fixed; width: 10px; height: 10px; left: 0; top: 0; pointer-events: none; z-index: 550;
  background: radial-gradient(circle, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 35%, rgba(255,255,255,0.0) 70%);
  border-radius: 50%; opacity: 0; transform: translate(-50%, -50%) scale(0.6);
  animation: snow-pop .8s ease-out forwards;
}
@keyframes snow-pop {
  0% { opacity: 0; transform: translate(-50%, -50%) scale(0.4); filter: blur(0px); }
  15% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); filter: blur(0.5px); }
  60% { opacity: .9; transform: translate(-50%, -50%) scale(1.8); filter: blur(1px); }
  100% { opacity: 0; transform: translate(-50%, -50%) scale(2.2); filter: blur(1.5px); }
}

/* Fullscreen splat when hit */
.splat-overlay {
  position: fixed; inset: 0; pointer-events: none; z-index: 800;
  background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.95) 6%, rgba(255,255,255,0.85) 28%, rgba(255,255,255,0.38) 50%, rgba(255,255,255,0.0) 70%);
  animation: splat-fade 1s ease-out forwards;
}
@keyframes splat-fade {
  0% { opacity: 0; }
  10% { opacity: 1; }
  70% { opacity: 1; }
  100% { opacity: 0; }
}

/* Hide snowball UI on mobile/touch devices */
@media (hover: none) and (pointer: coarse) {
  .snowball-pile, .snowball-cursor { display: none !important; }
  body.holding-snowball { cursor: auto; }
}

/* Additional viewport fallback: hide snowballs on small screens
   Some devices (e.g., certain Chromebooks) may report a fine pointer even when used in touch-first modes.
   As a safety net, also hide the snowball UI on narrow viewports. */
@media (max-width: 820px) {
  .snowball-pile, .snowball-cursor { display: none !important; }
  body.holding-snowball { cursor: auto; }
}

/* Rank Up Hype Overlay */
#rankUpOverlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  background: radial-gradient(circle, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.95) 100%);
  animation: rgb-strobe 2s infinite;
  pointer-events: none;
}

@keyframes rgb-strobe {
  0% { box-shadow: inset 0 0 100px rgba(255, 0, 0, 0.4); }
  33% { box-shadow: inset 0 0 100px rgba(0, 255, 0, 0.4); }
  66% { box-shadow: inset 0 0 100px rgba(0, 0, 255, 0.4); }
  100% { box-shadow: inset 0 0 100px rgba(255, 0, 0, 0.4); }
}

.rank-up-content {
  text-align: center;
  transform: scale(3);
  animation: rank-up-slam 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  text-shadow: 0 0 20px rgba(0,0,0,0.5);
}

@keyframes rank-up-slam {
  0% { transform: scale(3); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

.rank-up-header {
  font-family: Impact, sans-serif;
  font-size: clamp(3rem, 10vw, 6rem);
  color: #fff;
  text-transform: uppercase;
  margin: 0;
  text-shadow: 4px 4px 0 #ff00ff, -4px -4px 0 #000;
  letter-spacing: 4px;
}

.rank-up-names {
  font-size: clamp(1.5rem, 5vw, 3rem);
  font-weight: 800;
  color: #ffd700;
  margin: 10px 0;
  text-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
}

.rank-up-flavor {
  font-family: 'Courier New', Courier, monospace;
  font-size: 1.2rem;
  color: #00ff00;
  text-transform: uppercase;
  letter-spacing: 2px;
  opacity: 0.9;
}

.rank-up-emoji {
  position: absolute;
  pointer-events: none;
  font-size: 3rem;
  z-index: 10000;
  animation: emoji-float 3.5s linear forwards;
}

@keyframes emoji-float {
  0% {
    transform: translateY(0) rotate(0deg) scale(0.5);
    opacity: 0;
  }
  10% {
    opacity: 1;
    transform: translateY(-10vh) rotate(36deg) scale(1.2);
  }
  100% {
    transform: translateY(-120vh) rotate(360deg) scale(1.5);
    opacity: 0;
  }
}

/* --- Mobile-only Lightweight Optimizations --- */
@media (max-width: 820px) {
  /* Hide heavy decorative elements to save rendering power and data */
  .snow-canvas,
  .xmas-garland,
  .santa-overlay,
  .snowball-pile {
    display: none !important;
  }

  /* Simplify some backgrounds if needed, or keep as is if they are just CSS patterns.
     The garlands are CSS patterns, so hiding them is enough to save some paint operations. */
}

/* ============================================================
   USER-SELECTABLE COLOR THEMES (Unlockable at 1500+ points)
   Bloomy, light-sabery, glowy effects
   These OVERRIDE rank-dependent themes when active
   ============================================================ */

/* Base glow animation for themes */
@keyframes theme-glow-pulse {
  0%, 100% { filter: brightness(1) saturate(1); }
  50% { filter: brightness(1.08) saturate(1.1); }
}

@keyframes theme-bg-drift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Shared theme base styles - override rank themes */
.make67-page[data-color-theme] {
  transition: background 0.5s ease, box-shadow 0.5s ease;
}

.make67-page[data-color-theme] .cards-grid {
  transition: background 0.4s ease, box-shadow 0.4s ease;
}

.make67-page[data-color-theme] .card,
.make67-page[data-color-theme] .op-btn {
  transition: all 0.25s ease;
}

/* Override rank-based ::before and ::after effects on cards-grid */
.make67-page[data-color-theme] .cards-grid::before {
  background: linear-gradient(90deg, transparent 0%, var(--theme-primary, #9fe3b5) 50%, transparent 100%) !important;
  opacity: 0.15 !important;
}

.make67-page[data-color-theme] .cards-grid::after {
  background: radial-gradient(ellipse 100% 60% at 50% -10%, var(--theme-primary, #9fe3b5), transparent 70%) !important;
}

/* Override card/button ::after glow effects */
.make67-page[data-color-theme] .card::after,
.make67-page[data-color-theme] .op-btn::after {
  background: radial-gradient(ellipse 90% 80% at 50% 120%, var(--theme-primary, #9fe3b5), transparent 60%) !important;
}

/* Override card/button ::before sweep effects */
.make67-page[data-color-theme] .card::before,
.make67-page[data-color-theme] .op-btn::before {
  background: linear-gradient(120deg, transparent 30%, var(--theme-primary, #9fe3b5) 50%, transparent 70%) !important;
}

/* Override score-box charge effects */
.make67-page[data-color-theme] .score-box.charged::before {
  background: radial-gradient(ellipse 100% 80% at 50% 100%, var(--theme-primary, #9fe3b5), transparent 60%) !important;
}

.make67-page[data-color-theme] .score-box.charge-burst::after {
  background: radial-gradient(circle at 50% 50%, var(--theme-primary, #9fe3b5), transparent 70%) !important;
}

/* Override spark colors */
.make67-page[data-color-theme] .score-box .spark {
  background: var(--theme-primary, #9fe3b5) !important;
  box-shadow: 0 0 6px var(--theme-primary, #9fe3b5) !important;
}

/* 1500 - Neon Lime (Cyber/Matrix) */
.make67-page[data-color-theme="neon-lime"] {
  --theme-primary: #39ff14;
  --theme-secondary: #00ff66;
  --theme-glow: rgba(57, 255, 20, 0.5);
  --accent: #39ff14 !important;
  --accent-2: #00ff66 !important;
  background: radial-gradient(ellipse 140% 100% at 50% -20%, #0d2818 0%, #0a1a10 40%, #050d08 100%) !important;
}

.make67-page[data-color-theme="neon-lime"] .cards-grid {
  background: linear-gradient(180deg, rgba(57,255,20,0.08) 0%, rgba(0,30,10,0.95) 100%) !important;
  box-shadow: 0 0 60px rgba(57,255,20,0.25), inset 0 0 30px rgba(57,255,20,0.05) !important;
  border: 1px solid rgba(57,255,20,0.3) !important;
}

.make67-page[data-color-theme="neon-lime"] .card {
  background: linear-gradient(180deg, #1a2f1a 0%, #0d1a0d 100%) !important;
  border-color: rgba(57,255,20,0.4) !important;
  box-shadow: 0 0 20px rgba(57,255,20,0.2), 0 8px 20px rgba(0,0,0,0.4) !important;
  text-shadow: 0 0 15px var(--theme-glow);
  color: #d4ffd4 !important;
}

.make67-page[data-color-theme="neon-lime"] .card:hover,
.make67-page[data-color-theme="neon-lime"] .card.selected {
  box-shadow: 0 0 35px rgba(57,255,20,0.5), 0 0 60px rgba(57,255,20,0.3), 0 12px 30px rgba(0,0,0,0.5) !important;
  border-color: rgba(57,255,20,0.8) !important;
}

.make67-page[data-color-theme="neon-lime"] .op-btn {
  background: linear-gradient(180deg, rgba(57,255,20,0.15) 0%, rgba(0,30,10,0.9) 100%) !important;
  border-color: rgba(57,255,20,0.35) !important;
  color: #c8ffc8 !important;
  box-shadow: 0 0 15px rgba(57,255,20,0.15) !important;
}

.make67-page[data-color-theme="neon-lime"] .op-btn.active {
  box-shadow: 0 0 25px rgba(57,255,20,0.6), 0 0 50px rgba(57,255,20,0.3), inset 0 0 15px rgba(57,255,20,0.2) !important;
  border-color: #39ff14 !important;
}

/* 2000 - Electric Blue (Ice/Lightning) */
.make67-page[data-color-theme="electric-blue"] {
  --theme-primary: #00d4ff;
  --theme-secondary: #0099ff;
  --theme-glow: rgba(0, 212, 255, 0.5);
  --accent: #00d4ff !important;
  --accent-2: #0099ff !important;
  background: radial-gradient(ellipse 140% 100% at 50% -20%, #0a2030 0%, #061520 40%, #030a10 100%) !important;
}

.make67-page[data-color-theme="electric-blue"] .cards-grid {
  background: linear-gradient(180deg, rgba(0,212,255,0.08) 0%, rgba(0,20,40,0.95) 100%) !important;
  box-shadow: 0 0 70px rgba(0,212,255,0.3), inset 0 0 35px rgba(0,212,255,0.06) !important;
  border: 1px solid rgba(0,212,255,0.35) !important;
}

.make67-page[data-color-theme="electric-blue"] .card {
  background: linear-gradient(180deg, #152535 0%, #0a1520 100%) !important;
  border-color: rgba(0,212,255,0.45) !important;
  box-shadow: 0 0 25px rgba(0,212,255,0.25), 0 8px 22px rgba(0,0,0,0.45) !important;
  text-shadow: 0 0 18px var(--theme-glow);
  color: #d4f4ff !important;
}

.make67-page[data-color-theme="electric-blue"] .card:hover,
.make67-page[data-color-theme="electric-blue"] .card.selected {
  box-shadow: 0 0 40px rgba(0,212,255,0.6), 0 0 70px rgba(0,212,255,0.35), 0 12px 32px rgba(0,0,0,0.55) !important;
  border-color: rgba(0,212,255,0.9) !important;
}

.make67-page[data-color-theme="electric-blue"] .op-btn {
  background: linear-gradient(180deg, rgba(0,212,255,0.18) 0%, rgba(0,20,40,0.9) 100%) !important;
  border-color: rgba(0,212,255,0.4) !important;
  color: #c8f0ff !important;
  box-shadow: 0 0 18px rgba(0,212,255,0.18) !important;
}

.make67-page[data-color-theme="electric-blue"] .op-btn.active {
  box-shadow: 0 0 30px rgba(0,212,255,0.65), 0 0 55px rgba(0,212,255,0.35), inset 0 0 18px rgba(0,212,255,0.25) !important;
  border-color: #00d4ff !important;
}

/* 2500 - Hot Pink (Synthwave/Vaporwave) */
.make67-page[data-color-theme="hot-pink"] {
  --theme-primary: #ff00aa;
  --theme-secondary: #ff44cc;
  --theme-glow: rgba(255, 0, 170, 0.5);
  --accent: #ff00aa !important;
  --accent-2: #ff44cc !important;
  background: radial-gradient(ellipse 140% 100% at 50% -20%, #2a0a20 0%, #1a0615 40%, #0d030a 100%) !important;
}

.make67-page[data-color-theme="hot-pink"] .cards-grid {
  background: linear-gradient(180deg, rgba(255,0,170,0.1) 0%, rgba(30,5,25,0.95) 100%) !important;
  box-shadow: 0 0 80px rgba(255,0,170,0.35), inset 0 0 40px rgba(255,0,170,0.08) !important;
  border: 1px solid rgba(255,0,170,0.4) !important;
}

.make67-page[data-color-theme="hot-pink"] .card {
  background: linear-gradient(180deg, #2f1528 0%, #1a0a15 100%) !important;
  border-color: rgba(255,0,170,0.5) !important;
  box-shadow: 0 0 28px rgba(255,0,170,0.3), 0 8px 24px rgba(0,0,0,0.45) !important;
  text-shadow: 0 0 20px var(--theme-glow);
  color: #ffd4f0 !important;
}

.make67-page[data-color-theme="hot-pink"] .card:hover,
.make67-page[data-color-theme="hot-pink"] .card.selected {
  box-shadow: 0 0 45px rgba(255,0,170,0.65), 0 0 80px rgba(255,0,170,0.4), 0 12px 34px rgba(0,0,0,0.55) !important;
  border-color: rgba(255,0,170,0.95) !important;
}

.make67-page[data-color-theme="hot-pink"] .op-btn {
  background: linear-gradient(180deg, rgba(255,0,170,0.2) 0%, rgba(30,5,25,0.9) 100%) !important;
  border-color: rgba(255,0,170,0.45) !important;
  color: #ffc8e8 !important;
  box-shadow: 0 0 20px rgba(255,0,170,0.2) !important;
}

.make67-page[data-color-theme="hot-pink"] .op-btn.active {
  box-shadow: 0 0 35px rgba(255,0,170,0.7), 0 0 60px rgba(255,0,170,0.4), inset 0 0 20px rgba(255,0,170,0.28) !important;
  border-color: #ff00aa !important;
}

/* 3000 - Gold Rush (Royal/Luxury) */
.make67-page[data-color-theme="gold-rush"] {
  --theme-primary: #ffd700;
  --theme-secondary: #ffaa00;
  --theme-glow: rgba(255, 215, 0, 0.55);
  --accent: #ffd700 !important;
  --accent-2: #ffaa00 !important;
  background: radial-gradient(ellipse 140% 100% at 50% -20%, #2a2208 0%, #1a1505 40%, #0d0a03 100%) !important;
}

.make67-page[data-color-theme="gold-rush"] .cards-grid {
  background: linear-gradient(180deg, rgba(255,215,0,0.12) 0%, rgba(30,25,8,0.96) 100%) !important;
  box-shadow: 0 0 90px rgba(255,215,0,0.4), inset 0 0 45px rgba(255,215,0,0.1) !important;
  border: 1px solid rgba(255,215,0,0.45) !important;
}

.make67-page[data-color-theme="gold-rush"] .card {
  background: linear-gradient(180deg, #302810 0%, #1a1508 100%) !important;
  border-color: rgba(255,215,0,0.55) !important;
  box-shadow: 0 0 32px rgba(255,215,0,0.35), 0 8px 26px rgba(0,0,0,0.48) !important;
  text-shadow: 0 0 22px var(--theme-glow);
  color: #fff8d4 !important;
}

.make67-page[data-color-theme="gold-rush"] .card:hover,
.make67-page[data-color-theme="gold-rush"] .card.selected {
  box-shadow: 0 0 50px rgba(255,215,0,0.7), 0 0 90px rgba(255,215,0,0.45), 0 12px 36px rgba(0,0,0,0.58) !important;
  border-color: rgba(255,215,0,1) !important;
}

.make67-page[data-color-theme="gold-rush"] .op-btn {
  background: linear-gradient(180deg, rgba(255,215,0,0.22) 0%, rgba(30,25,8,0.92) 100%) !important;
  border-color: rgba(255,215,0,0.5) !important;
  color: #fff0c8 !important;
  box-shadow: 0 0 22px rgba(255,215,0,0.22) !important;
}

.make67-page[data-color-theme="gold-rush"] .op-btn.active {
  box-shadow: 0 0 40px rgba(255,215,0,0.75), 0 0 70px rgba(255,215,0,0.45), inset 0 0 22px rgba(255,215,0,0.32) !important;
  border-color: #ffd700 !important;
}

/* 3500 - Crimson Fire (Power/Inferno) */
.make67-page[data-color-theme="crimson-fire"] {
  --theme-primary: #ff3300;
  --theme-secondary: #ff6600;
  --theme-glow: rgba(255, 51, 0, 0.55);
  --accent: #ff3300 !important;
  --accent-2: #ff6600 !important;
  background: radial-gradient(ellipse 140% 100% at 50% -20%, #2a0808 0%, #1a0505 40%, #0d0303 100%) !important;
}

.make67-page[data-color-theme="crimson-fire"] .cards-grid {
  background: linear-gradient(180deg, rgba(255,51,0,0.14) 0%, rgba(30,8,8,0.96) 100%) !important;
  box-shadow: 0 0 100px rgba(255,51,0,0.45), inset 0 0 50px rgba(255,51,0,0.12) !important;
  border: 1px solid rgba(255,51,0,0.5) !important;
  animation: theme-glow-pulse 3s ease-in-out infinite;
}

.make67-page[data-color-theme="crimson-fire"] .card {
  background: linear-gradient(180deg, #351510 0%, #1a0a08 100%) !important;
  border-color: rgba(255,51,0,0.6) !important;
  box-shadow: 0 0 36px rgba(255,51,0,0.4), 0 8px 28px rgba(0,0,0,0.5) !important;
  text-shadow: 0 0 24px var(--theme-glow);
  color: #ffd8d4 !important;
}

.make67-page[data-color-theme="crimson-fire"] .card:hover,
.make67-page[data-color-theme="crimson-fire"] .card.selected {
  box-shadow: 0 0 55px rgba(255,51,0,0.75), 0 0 100px rgba(255,51,0,0.5), 0 12px 38px rgba(0,0,0,0.6) !important;
  border-color: rgba(255,51,0,1) !important;
}

.make67-page[data-color-theme="crimson-fire"] .op-btn {
  background: linear-gradient(180deg, rgba(255,51,0,0.25) 0%, rgba(30,8,8,0.92) 100%) !important;
  border-color: rgba(255,51,0,0.55) !important;
  color: #ffc8c0 !important;
  box-shadow: 0 0 25px rgba(255,51,0,0.25) !important;
}

.make67-page[data-color-theme="crimson-fire"] .op-btn.active {
  box-shadow: 0 0 45px rgba(255,51,0,0.8), 0 0 80px rgba(255,51,0,0.5), inset 0 0 25px rgba(255,51,0,0.35) !important;
  border-color: #ff3300 !important;
}

/* 4000 - Prismatic (Rainbow/Ultimate/God Mode) */
.make67-page[data-color-theme="prismatic"] {
  --theme-primary: #fff;
  --theme-secondary: #fff;
  --theme-glow: rgba(255,255,255,0.6);
  --accent: #fff !important;
  --accent-2: #fff !important;
  background: linear-gradient(270deg,
    #1a0520 0%, #0a1525 16%, #051a15 33%,
    #1a1a05 50%, #1a0a05 66%, #150520 83%, #1a0520 100%) !important;
  background-size: 400% 100%;
  animation: theme-bg-drift 12s ease infinite;
}

/* Prismatic overrides for ::before and ::after with rainbow cycling */
.make67-page[data-color-theme="prismatic"] .cards-grid::before {
  animation: prismatic-sweep 4s ease-in-out infinite !important;
}

@keyframes prismatic-sweep {
  0%, 100% { background: linear-gradient(90deg, transparent 0%, rgba(255,100,200,0.4) 50%, transparent 100%); }
  33% { background: linear-gradient(90deg, transparent 0%, rgba(100,255,200,0.4) 50%, transparent 100%); }
  66% { background: linear-gradient(90deg, transparent 0%, rgba(100,200,255,0.4) 50%, transparent 100%); }
}

.make67-page[data-color-theme="prismatic"] .cards-grid {
  background: linear-gradient(180deg, rgba(255,255,255,0.08) 0%, rgba(15,15,20,0.96) 100%) !important;
  box-shadow:
    0 0 40px rgba(255,0,128,0.3),
    0 0 60px rgba(0,200,255,0.25),
    0 0 80px rgba(255,200,0,0.2),
    inset 0 0 40px rgba(255,255,255,0.06) !important;
  border: 1px solid rgba(255,255,255,0.35) !important;
  animation: prismatic-glow 4s ease-in-out infinite;
}

@keyframes prismatic-glow {
  0%, 100% {
    box-shadow: 0 0 50px rgba(255,0,128,0.4), 0 0 70px rgba(0,200,255,0.3), 0 0 90px rgba(255,200,0,0.25), inset 0 0 40px rgba(255,255,255,0.06);
  }
  33% {
    box-shadow: 0 0 50px rgba(0,255,128,0.4), 0 0 70px rgba(255,0,200,0.3), 0 0 90px rgba(0,200,255,0.25), inset 0 0 40px rgba(255,255,255,0.06);
  }
  66% {
    box-shadow: 0 0 50px rgba(255,200,0,0.4), 0 0 70px rgba(0,255,128,0.3), 0 0 90px rgba(255,0,200,0.25), inset 0 0 40px rgba(255,255,255,0.06);
  }
}

.make67-page[data-color-theme="prismatic"] .card {
  background: linear-gradient(180deg, #222228 0%, #12121a 100%) !important;
  border-color: rgba(255,255,255,0.5) !important;
  box-shadow:
    0 0 20px rgba(255,100,200,0.3),
    0 0 35px rgba(100,200,255,0.25),
    0 8px 30px rgba(0,0,0,0.5) !important;
  text-shadow: 0 0 15px rgba(255,255,255,0.7);
  color: #fff !important;
  animation: prismatic-card 5s ease-in-out infinite;
}

@keyframes prismatic-card {
  0%, 100% { border-color: rgba(255,100,200,0.6); }
  33% { border-color: rgba(100,255,200,0.6); }
  66% { border-color: rgba(100,200,255,0.6); }
}

.make67-page[data-color-theme="prismatic"] .card:hover,
.make67-page[data-color-theme="prismatic"] .card.selected {
  box-shadow:
    0 0 40px rgba(255,100,200,0.6),
    0 0 60px rgba(100,200,255,0.5),
    0 0 80px rgba(255,220,100,0.4),
    0 12px 40px rgba(0,0,0,0.6) !important;
  border-color: rgba(255,255,255,0.9) !important;
}

.make67-page[data-color-theme="prismatic"] .op-btn {
  background: linear-gradient(180deg, rgba(255,255,255,0.12) 0%, rgba(15,15,20,0.92) 100%) !important;
  border-color: rgba(255,255,255,0.4) !important;
  color: #fff !important;
  box-shadow: 0 0 18px rgba(200,150,255,0.2) !important;
}

.make67-page[data-color-theme="prismatic"] .op-btn.active {
  box-shadow:
    0 0 30px rgba(255,100,200,0.65),
    0 0 50px rgba(100,200,255,0.5),
    inset 0 0 20px rgba(255,255,255,0.15) !important;
  border-color: #fff !important;
}

/* Prismatic spark animation */
.make67-page[data-color-theme="prismatic"] .score-box .spark {
  animation: prismatic-spark 0.6s ease-out forwards, spark-color 1s ease-in-out infinite !important;
}

@keyframes spark-color {
  0%, 100% { background: #ff80c0; box-shadow: 0 0 6px #ff80c0; }
  33% { background: #80ffc0; box-shadow: 0 0 6px #80ffc0; }
  66% { background: #80c0ff; box-shadow: 0 0 6px #80c0ff; }
}

/* 4500 - Ohio Corn (Chaotic Menace Yellow) */
.make67-page[data-color-theme="ohio-corn"] {
  --theme-primary: #ffd700;
  --theme-secondary: #ff4500;
  --theme-glow: rgba(255,215,0,0.7);
  --accent: #ffd700 !important;
  --accent-2: #ff4500 !important;
}

.make67-page[data-color-theme="ohio-corn"] .cards-grid {
  background: linear-gradient(180deg, rgba(255,215,0,0.12) 0%, rgba(15,12,5,0.98) 100%) !important;
  box-shadow: 0 0 80px rgba(255,215,0,0.35), 0 0 120px rgba(255,69,0,0.2), inset 0 0 40px rgba(255,215,0,0.08) !important;
  border: 1px solid rgba(255,215,0,0.45) !important;
  animation: ohio-pulse 2s ease-in-out infinite;
}

@keyframes ohio-pulse {
  0%, 100% { box-shadow: 0 0 80px rgba(255,215,0,0.35), 0 0 120px rgba(255,69,0,0.2); }
  50% { box-shadow: 0 0 100px rgba(255,69,0,0.45), 0 0 150px rgba(255,215,0,0.3); }
}

.make67-page[data-color-theme="ohio-corn"] .card {
  border-color: rgba(255,215,0,0.65) !important;
  box-shadow: 0 0 35px rgba(255,215,0,0.35), 0 10px 28px rgba(0,0,0,0.5) !important;
  text-shadow: 0 0 25px var(--theme-glow);
  color: #fff8dc !important;
}

.make67-page[data-color-theme="ohio-corn"] .op-btn {
  border-color: rgba(255,215,0,0.55) !important;
  box-shadow: 0 0 22px rgba(255,215,0,0.25) !important;
  color: #fff8dc !important;
}

/* 5000 - Void Aura (Deep Black with Purple Edges) */
.make67-page[data-color-theme="void-aura"] {
  --theme-primary: #8b00ff;
  --theme-secondary: #000;
  --theme-glow: rgba(139,0,255,0.6);
  --accent: #8b00ff !important;
  --accent-2: #4b0082 !important;
}

.make67-page[data-color-theme="void-aura"] .cards-grid {
  background: radial-gradient(ellipse at center, rgba(0,0,0,0.99) 0%, rgba(20,0,40,0.98) 50%, rgba(0,0,0,0.99) 100%) !important;
  box-shadow: 0 0 60px rgba(139,0,255,0.4), 0 0 120px rgba(75,0,130,0.3), inset 0 0 80px rgba(0,0,0,0.9) !important;
  border: 2px solid rgba(139,0,255,0.6) !important;
  animation: void-breathe 4s ease-in-out infinite;
}

@keyframes void-breathe {
  0%, 100% { box-shadow: 0 0 60px rgba(139,0,255,0.4), 0 0 120px rgba(75,0,130,0.3), inset 0 0 80px rgba(0,0,0,0.9); }
  50% { box-shadow: 0 0 100px rgba(139,0,255,0.6), 0 0 180px rgba(75,0,130,0.5), inset 0 0 120px rgba(139,0,255,0.1); }
}

.make67-page[data-color-theme="void-aura"] .card {
  background: linear-gradient(180deg, rgba(20,0,30,0.98) 0%, rgba(0,0,0,0.99) 100%) !important;
  border-color: rgba(139,0,255,0.7) !important;
  box-shadow: 0 0 40px rgba(139,0,255,0.4), 0 10px 30px rgba(0,0,0,0.8) !important;
  color: #e6d5ff !important;
}

.make67-page[data-color-theme="void-aura"] .op-btn {
  background: linear-gradient(180deg, rgba(30,0,50,0.95) 0%, rgba(10,0,20,0.98) 100%) !important;
  border-color: rgba(139,0,255,0.6) !important;
  box-shadow: 0 0 25px rgba(139,0,255,0.3) !important;
  color: #d4b8ff !important;
}

/* 5500 - God Mode (Ultimate Transcendent White-Gold) */
.make67-page[data-color-theme="god-mode"] {
  --theme-primary: #fff;
  --theme-secondary: #ffd700;
  --theme-glow: rgba(255,255,255,0.9);
  --accent: #fff !important;
  --accent-2: #ffd700 !important;
}

.make67-page[data-color-theme="god-mode"] .cards-grid {
  background: radial-gradient(ellipse at center, rgba(255,255,255,0.15) 0%, rgba(255,215,0,0.08) 30%, rgba(15,15,20,0.95) 100%) !important;
  box-shadow:
    0 0 100px rgba(255,255,255,0.5),
    0 0 200px rgba(255,215,0,0.4),
    0 0 300px rgba(255,255,255,0.2),
    inset 0 0 60px rgba(255,215,0,0.1) !important;
  border: 2px solid rgba(255,255,255,0.7) !important;
  animation: god-radiance 3s ease-in-out infinite;
}

@keyframes god-radiance {
  0%, 100% {
    box-shadow: 0 0 100px rgba(255,255,255,0.5), 0 0 200px rgba(255,215,0,0.4), 0 0 300px rgba(255,255,255,0.2);
    border-color: rgba(255,255,255,0.7);
  }
  50% {
    box-shadow: 0 0 150px rgba(255,215,0,0.6), 0 0 250px rgba(255,255,255,0.5), 0 0 400px rgba(255,215,0,0.3);
    border-color: rgba(255,215,0,0.9);
  }
}

.make67-page[data-color-theme="god-mode"] .card {
  background: linear-gradient(180deg, rgba(255,255,255,0.15) 0%, rgba(25,25,30,0.95) 100%) !important;
  border: 2px solid rgba(255,255,255,0.8) !important;
  box-shadow:
    0 0 50px rgba(255,255,255,0.4),
    0 0 80px rgba(255,215,0,0.3),
    0 12px 35px rgba(0,0,0,0.5) !important;
  color: #fff !important;
  text-shadow: 0 0 20px rgba(255,215,0,0.8), 0 0 40px rgba(255,255,255,0.6);
  animation: god-card-glow 2s ease-in-out infinite alternate;
}

@keyframes god-card-glow {
  0% { box-shadow: 0 0 50px rgba(255,255,255,0.4), 0 0 80px rgba(255,215,0,0.3), 0 12px 35px rgba(0,0,0,0.5); }
  100% { box-shadow: 0 0 70px rgba(255,215,0,0.5), 0 0 100px rgba(255,255,255,0.4), 0 15px 40px rgba(0,0,0,0.6); }
}

.make67-page[data-color-theme="god-mode"] .op-btn {
  background: linear-gradient(180deg, rgba(255,255,255,0.2) 0%, rgba(20,20,25,0.95) 100%) !important;
  border: 2px solid rgba(255,255,255,0.7) !important;
  color: #fff !important;
  box-shadow: 0 0 30px rgba(255,215,0,0.3) !important;
}

.make67-page[data-color-theme="god-mode"] .op-btn.active {
  box-shadow:
    0 0 50px rgba(255,255,255,0.6),
    0 0 80px rgba(255,215,0,0.5) !important;
  border-color: rgba(255,215,0,1) !important;
}

/* Panel and leaderboard tinting for themes */
.make67-page[data-color-theme] .panel-left,
.make67-page[data-color-theme] .leaderboard-container,
.make67-page[data-color-theme] .glass-panel {
  border-color: color-mix(in srgb, var(--theme-primary, #9fe3b5) 30%, transparent) !important;
}

.make67-page[data-color-theme] .stat-item {
  border-color: color-mix(in srgb, var(--theme-primary, #9fe3b5) 25%, transparent) !important;
}

.make67-page[data-color-theme] .stat-item.gold {
  color: var(--theme-primary, #ffd700) !important;
}

.make67-page[data-color-theme] .lb-list .m67-lb-item {
  border-color: color-mix(in srgb, var(--theme-primary, #9fe3b5) 20%, transparent) !important;
}

/* Reduced motion: disable animations but keep colors */
@media (prefers-reduced-motion: reduce) {
  .make67-page[data-color-theme] .cards-grid,
  .make67-page[data-color-theme] .cards-grid::before,
  .make67-page[data-color-theme="prismatic"] .card,
  .make67-page[data-color-theme="prismatic"],
  .make67-page[data-color-theme="prismatic"] .score-box .spark,
  .make67-page[data-color-theme="crimson-fire"] .cards-grid,
  .make67-page[data-color-theme="ohio-corn"] .cards-grid,
  .make67-page[data-color-theme="void-aura"] .cards-grid,
  .make67-page[data-color-theme="god-mode"] .cards-grid,
  .make67-page[data-color-theme="god-mode"] .card,
  .make67-page .m67-lb-item.rank-delulu .name,
  .make67-page .m67-lb-item.rank-gyatt .name,
  .make67-page .m67-lb-item.rank-skibidi .name,
  .make67-page .m67-lb-item.rank-unhinged .name,
  .make67-page .m67-lb-item.rank-unplayable .name {
    animation: none !important;
  }
}

/* ============================================================
   MODERN MOBILE NAVIGATION
   Responsive hamburger menu with slide-out drawer
   ============================================================ */

/* Desktop nav container */
.make67-page .desktop-nav {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Mobile menu button - hidden on desktop */
.mobile-menu-btn {
  display: none;
  appearance: none;
  background: transparent;
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 10px;
  width: 44px;
  height: 44px;
  cursor: pointer;
  position: relative;
  z-index: 100;
  flex-shrink: 0;
}

.mobile-menu-btn:hover {
  background: rgba(255,255,255,0.05);
}

.mobile-menu-btn:active {
  background: rgba(255,255,255,0.1);
}

/* Hamburger icon */
.hamburger-icon {
  display: block;
  width: 20px;
  height: 2px;
  background: #e6ebf5;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border-radius: 2px;
  transition: background 0.2s ease;
}

.hamburger-icon::before,
.hamburger-icon::after {
  content: "";
  display: block;
  width: 20px;
  height: 2px;
  background: #e6ebf5;
  position: absolute;
  left: 0;
  border-radius: 2px;
  transition: transform 0.3s ease, top 0.3s ease;
}

.hamburger-icon::before {
  top: -6px;
}

.hamburger-icon::after {
  top: 6px;
}

/* Hamburger to X animation */
.mobile-menu-btn[aria-expanded="true"] .hamburger-icon {
  background: transparent;
}

.mobile-menu-btn[aria-expanded="true"] .hamburger-icon::before {
  top: 0;
  transform: rotate(45deg);
}

.mobile-menu-btn[aria-expanded="true"] .hamburger-icon::after {
  top: 0;
  transform: rotate(-45deg);
}

/* Mobile Navigation Drawer */
.mobile-nav-drawer {
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
}

.mobile-nav-drawer:not([hidden]) {
  pointer-events: auto;
}

.mobile-nav-drawer[hidden] {
  display: block !important;
  visibility: hidden;
}

.mobile-nav-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0);
  transition: background 0.3s ease;
}

.mobile-nav-drawer:not([hidden]) .mobile-nav-backdrop {
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

.mobile-nav-panel {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: min(300px, 85vw);
  background: linear-gradient(180deg, #1a1d24 0%, #13151a 100%);
  box-shadow: 4px 0 24px rgba(0, 0, 0, 0.5);
  transform: translateX(-100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overscroll-behavior: contain;
  padding-bottom: env(safe-area-inset-bottom, 20px);
}

.mobile-nav-drawer:not([hidden]) .mobile-nav-panel {
  transform: translateX(0);
}

.mobile-nav-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  padding-top: calc(16px + env(safe-area-inset-top, 0px));
  border-bottom: 1px solid rgba(255,255,255,0.1);
  flex-shrink: 0;
}

.mobile-nav-title {
  font-size: 18px;
  font-weight: 800;
  color: #e6ebf5;
}

.mobile-nav-close {
  appearance: none;
  background: rgba(255,255,255,0.1);
  border: none;
  border-radius: 8px;
  width: 36px;
  height: 36px;
  color: #e6ebf5;
  font-size: 18px;
  cursor: pointer;
  display: grid;
  place-items: center;
  transition: background 0.2s ease;
}

.mobile-nav-close:hover {
  background: rgba(255,255,255,0.15);
}

.mobile-nav-section {
  padding: 16px 12px;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}

.mobile-nav-section:last-child {
  border-bottom: none;
  margin-top: auto;
}

.mobile-nav-section-title {
  font-size: 11px;
  font-weight: 700;
  color: #7a8290;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 0 8px 8px;
}

.mobile-nav-link {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 14px 12px;
  margin: 2px 0;
  background: transparent;
  border: none;
  border-radius: 10px;
  color: #e6ebf5;
  font-size: 15px;
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: background 0.2s ease;
  text-align: left;
  -webkit-tap-highlight-color: transparent;
}

.mobile-nav-link:hover,
.mobile-nav-link:focus {
  background: rgba(255,255,255,0.08);
  outline: none;
}

.mobile-nav-link:active {
  background: rgba(255,255,255,0.12);
}

.mobile-nav-auth {
  background: rgba(0,0,0,0.2);
  margin: 0;
  padding: 16px 12px;
  padding-bottom: calc(16px + env(safe-area-inset-bottom, 0px));
}

.mobile-nav-user {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  margin-bottom: 8px;
  color: #b8bfc9;
  font-size: 14px;
}

.mobile-nav-user .avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
}

.mobile-nav-logout {
  color: #f87171 !important;
}

.mobile-nav-signin {
  background: linear-gradient(180deg, rgba(66,133,244,0.2) 0%, rgba(66,133,244,0.1) 100%);
  border: 1px solid rgba(66,133,244,0.3);
  color: #8bb4f8 !important;
}

/* Lock body scroll when nav is open */
body.mobile-nav-open {
  overflow: hidden;
  position: fixed;
  width: 100%;
}

/* ============================================================
   MOBILE RESPONSIVE BREAKPOINTS
   Modern approach with container queries where supported
   ============================================================ */

/* Tablet and below */
@media (max-width: 1024px) {
  .make67-page .header {
    padding: 12px 16px 8px;
  }

  .make67-page .header-right {
    gap: 8px;
  }
}

/* Mobile devices */
@media (max-width: 768px) {
  /* Show hamburger, hide desktop nav */
  .mobile-menu-btn {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .make67-page .desktop-nav {
    display: none;
  }

  /* Restructure header for mobile */
  .make67-page .header {
    display: grid;
    grid-template-columns: auto 1fr auto;
    grid-template-rows: auto auto;
    gap: 8px 12px;
    align-items: center;
    padding: 12px 16px;
    padding-top: calc(12px + env(safe-area-inset-top, 0px));
  }

  .mobile-menu-btn {
    grid-column: 1;
    grid-row: 1;
  }

  .make67-page .title {
    grid-column: 2;
    grid-row: 1;
    text-align: center;
    font-size: clamp(18px, 5vw, 24px);
    margin: 0;
  }

  .make67-page .header-right {
    grid-column: 3;
    grid-row: 1;
    justify-content: flex-end;
  }

  .make67-page .subtitle {
    grid-column: 1 / -1;
    grid-row: 2;
    text-align: center;
    font-size: 12px;
    opacity: 0.8;
    margin: 0;
  }

  /* Hide dock and auth on mobile - use drawer instead */
  .make67-page .header .game-dock.header-dock {
    display: none;
  }

  .make67-page .header .auth-actions {
    display: none;
  }

  /* Show compact score in header for mobile */
  .make67-page .header-right {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  /* Mobile stat display */
  .make67-page .mobile-stat {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    background: rgba(255,255,255,0.08);
    border-radius: 8px;
    font-size: 14px;
    font-weight: 700;
    color: #ffd700;
  }

  /* Adjust split layout for mobile */
  .make67-page .split-layout {
    padding: 8px;
    padding-bottom: calc(8px + env(safe-area-inset-bottom, 0px));
  }

  /* Game board optimizations */
  .make67-page .game-board-wrapper {
    padding: clamp(12px, 4vw, 24px);
  }

  .make67-page .cards-grid {
    grid-template-columns: repeat(2, minmax(100px, 45vw));
    grid-auto-rows: minmax(100px, 45vw);
    gap: clamp(8px, 3vw, 16px);
  }

  .make67-page .card {
    font-size: clamp(32px, 10vw, 48px);
    border-radius: 14px;
  }

  .make67-page .ops {
    gap: 8px;
    margin-top: 16px;
  }

  .make67-page .op-btn {
    min-width: clamp(48px, 14vw, 64px);
    min-height: clamp(48px, 14vw, 64px);
    font-size: clamp(20px, 6vw, 28px);
    border-radius: 12px;
  }

  /* Shoulder buttons */
  .make67-page .shoulder-btn {
    width: 36px;
    height: 36px;
    font-size: 16px;
    top: 8px;
  }

  .make67-page .shoulder-btn.left {
    left: 8px;
  }

  .make67-page .shoulder-btn.right {
    right: 8px;
  }
}

/* Small phones */
@media (max-width: 380px) {
  .make67-page .header {
    padding: 10px 12px;
    padding-top: calc(10px + env(safe-area-inset-top, 0px));
  }

  .mobile-menu-btn {
    width: 40px;
    height: 40px;
  }

  .make67-page .title {
    font-size: 16px;
  }

  .make67-page .subtitle {
    font-size: 11px;
  }

  .make67-page .cards-grid {
    grid-template-columns: repeat(2, minmax(80px, 42vw));
    grid-auto-rows: minmax(80px, 42vw);
    gap: 8px;
  }

  .make67-page .card {
    font-size: clamp(28px, 9vw, 40px);
  }

  .make67-page .op-btn {
    min-width: 44px;
    min-height: 44px;
    font-size: 18px;
  }
}

/* Landscape mobile */
@media (max-height: 500px) and (orientation: landscape) {
  .make67-page .header {
    padding: 8px 16px;
  }

  .make67-page .subtitle {
    display: none;
  }

  .make67-page .cards-grid {
    grid-template-columns: repeat(4, minmax(60px, 18vh));
    grid-auto-rows: minmax(60px, 18vh);
    gap: 8px;
  }

  .make67-page .ops {
    margin-top: 8px;
  }

  .make67-page .op-btn {
    min-width: 40px;
    min-height: 40px;
    font-size: 16px;
  }

  .mobile-nav-panel {
    width: min(280px, 50vw);
  }
}

/* Touch-friendly tap targets (WCAG 2.1 Level AAA) */
@media (pointer: coarse) {
  .make67-page .dock-btn,
  .make67-page .op-btn,
  .make67-page .shoulder-btn,
  .mobile-menu-btn,
  .mobile-nav-link {
    min-height: 44px;
    min-width: 44px;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .mobile-nav-panel {
    border-right: 2px solid #fff;
  }

  .mobile-nav-link:focus {
    outline: 2px solid #fff;
    outline-offset: 2px;
  }
}


/* ============================================
   HOME PAGE â€“ Welcome / Landing
   ============================================ */

.home-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0 16px 40px;
}

.home-header {
  text-align: center;
  padding: 48px 16px 12px;
  width: 100%;
  max-width: 700px;
}

.home-title {
  font-size: clamp(36px, 6vw, 56px);
  font-weight: 800;
  letter-spacing: -.02em;
  background: linear-gradient(135deg, #f6df5f 0%, #4ac981 40%, #4670d6 70%, #e03838 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0 0 6px;
  line-height: 1.1;
}

.home-subtitle {
  font-size: clamp(16px, 2.5vw, 22px);
  color: var(--muted);
  margin: 0 0 24px;
  font-weight: 500;
}

.home-auth {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}

.home-user-name {
  font-size: 14px;
  color: var(--text);
  opacity: .85;
}

.home-login-btn {
  display: inline-block;
  padding: 10px 22px;
  border-radius: 10px;
  background: #2563eb;
  color: #fff;
  font-weight: 600;
  font-size: 15px;
  text-decoration: none;
  transition: background .18s, transform .12s;
}
.home-login-btn:hover { background: #1d4ed8; transform: translateY(-1px); }

.home-logout-btn {
  padding: 6px 14px;
  border-radius: 8px;
  border: 1px solid #3a3f47;
  background: #1f2227;
  color: var(--text);
  cursor: pointer;
  font-size: 13px;
  transition: background .15s;
}
.home-logout-btn:hover { background: #2a2f37; }

/* Card Grid */
.home-cards {
  display: grid;
  grid-template-columns: 1fr;
  gap: 18px;
  width: 100%;
  max-width: 560px;
  margin-top: 32px;
}

.home-card {
  display: flex;
  align-items: center;
  gap: 18px;
  padding: 24px 28px;
  border-radius: 18px;
  text-decoration: none;
  color: #fff;
  position: relative;
  overflow: hidden;
  transition: transform .18s cubic-bezier(.21,1,.21,1), box-shadow .2s;
  cursor: pointer;
  border: 1.5px solid rgba(255,255,255,.08);
}

.home-card:hover {
  transform: translateY(-4px) scale(1.015);
  box-shadow: 0 14px 40px rgba(0,0,0,.5);
}
.home-card:active {
  transform: translateY(-1px) scale(1.005);
}

/* Glow effect behind cards */
.home-card::before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: .12;
  border-radius: inherit;
  pointer-events: none;
  transition: opacity .2s;
}
.home-card:hover::before { opacity: .2; }

/* Card color themes */
.home-card--make67 {
  background: linear-gradient(135deg, #1a1f3a 0%, #1c2848 50%, #162040 100%);
  border-color: rgba(99, 138, 255, .25);
}
.home-card--make67::before {
  background: radial-gradient(circle at 30% 50%, #638aff, transparent 70%);
}

.home-card--make6or7 {
  background: linear-gradient(135deg, #1a2f1e 0%, #1c3826 50%, #163020 100%);
  border-color: rgba(74, 201, 129, .25);
}
.home-card--make6or7::before {
  background: radial-gradient(circle at 30% 50%, #4ac981, transparent 70%);
}

.home-card--mood {
  background: linear-gradient(135deg, #2a1a1a 0%, #2d1f28 50%, #251a30 100%);
  border-color: rgba(224, 56, 56, .2);
}
.home-card--mood::before {
  background: radial-gradient(circle at 30% 50%, #e03838, transparent 70%);
}

.home-card--dashboard {
  background: linear-gradient(135deg, #1f1a2e 0%, #241f38 50%, #1e1a30 100%);
  border-color: rgba(168, 130, 255, .2);
}
.home-card--dashboard::before {
  background: radial-gradient(circle at 30% 50%, #a882ff, transparent 70%);
}

.home-card__icon {
  flex-shrink: 0;
  width: 56px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  font-weight: 800;
  border-radius: 14px;
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(6px);
  color: #fff;
  position: relative;
  z-index: 1;
}

.home-card__content {
  flex: 1;
  min-width: 0;
  position: relative;
  z-index: 1;
}

.home-card__title {
  font-size: 20px;
  font-weight: 700;
  margin: 0 0 4px;
  line-height: 1.2;
}

.home-card__desc {
  font-size: 14px;
  color: rgba(255,255,255,.6);
  margin: 0;
  line-height: 1.4;
}

.home-card__arrow {
  flex-shrink: 0;
  font-size: 22px;
  opacity: .4;
  transition: opacity .18s, transform .18s;
  position: relative;
  z-index: 1;
}
.home-card:hover .home-card__arrow {
  opacity: .8;
  transform: translateX(4px);
}

.home-footer {
  margin-top: auto;
  padding-top: 40px;
  text-align: center;
  font-size: 13px;
  color: var(--muted);
  opacity: .5;
}

/* Home page responsive */
@media (min-width: 640px) {
  .home-cards {
    max-width: 620px;
  }
  .home-card {
    padding: 28px 32px;
  }
  .home-card__icon {
    width: 64px;
    height: 64px;
    font-size: 28px;
  }
  .home-card__title {
    font-size: 22px;
  }
}

@media (max-width: 480px) {
  .home-header {
    padding: 32px 12px 8px;
  }
  .home-card {
    padding: 18px 16px;
    gap: 14px;
  }
  .home-card__icon {
    width: 48px;
    height: 48px;
    font-size: 20px;
    border-radius: 12px;
  }
  .home-card__title {
    font-size: 17px;
  }
  .home-card__desc {
    font-size: 13px;
  }
}
